[
    {
        "id": "3c1975f87cd0cabf",
        "type": "tab",
        "label": "Save all changes",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "cf48a4fe2aef05dc",
        "type": "tab",
        "label": "Map + Netatmo",
        "disabled": false,
        "info": ""
    },
    {
        "id": "41cb18232e7c1de3",
        "type": "tab",
        "label": "Exercise",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1f0274a4dfdeb367",
        "type": "tab",
        "label": "File explorer",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e316d93c3900f83e",
        "type": "tab",
        "label": "Testbed",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6c2a20878ada2fb9",
        "type": "tab",
        "label": "rekata_telegrambot",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e899286ccebc8c74",
        "type": "tab",
        "label": "tanyakrab_bot",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2924702c.b33a7",
        "type": "subflow",
        "name": "ui-table handler",
        "info": "# ui-table handler\nUniversal handler for ui-table.\n## features\n- buffer table data\n- add or update individual rows or cells of the table\n- delete rows\n- clear tableData\n- handle column width\n- handle column order\n- hide und unhide columns\n- hide and unhide rows\n- records row order\n- support for nested columns [(column groups)](http://tabulator.info/examples/4.7#column-groups)\n- support for child rows (_children) [(nested data trees)](http://tabulator.info/examples/4.7#tree)\n\nFor real life example see:\n\n**syslog server** for logfile like table with filters\n\n**remote device table** for dynamically updated table with context menues\n\n**irrigation system** for sortable rows\n\n## sending data to ui-tabel\n\n- sending an `array` as discribed in ui-table will replace the complete table and delete all table edits\n  \n  if `msg.keepEdits=true` is added the existing edits will be kept.\n- send an `object` containing the updated properties of a table row by sending msg.<tableDataProp>.\n\n  The table is updated using the `updateOrAddData` command. You can alter the command used by adding the `msg.tabulatorCommand` and `msg.tabulatorParameter`\n\n```\nmsg.tabulatorCommand=\"addData\";\nmsg.tabulatorParameter=[true];\n```\n## configuration\n- `tabulator` json formatted object containing configuration of the table. See ui-table for more details.\n- `property` property of the msg object that contains the data to be passed to ui-table. I.e. *state* `msg.state`\n- `index` index column to identify individual rows. Each message containing data must have a unique `msg.topic` to identify the row. Messages without this `msg.topic` will be droped. It is not nessesary but possible to display the index column in the table. Do not enable editing on this column otherwise you will loose the connection and another row will be added to the table as soon as a new message arrives!\n\n   Defaults to *$topic* `msg.state.$topic`\n- `maxRows`maximum number of rows held by table widget. If grater than **0** the amount of rows in ui-table is limited. For this to work the index row must be a Number. �rows < currentID-maxRows� will be deleted.\n- `maxStore`maximum number of rows stored by this node for replay if a client connects. If grater than **0** the amount of rows in flow context is limited. for this to work the index row must be a Number. �rows < currentID-maxStore� will be deleted.\n- `dashboard` name of the dashboard tab to only update the table if the dashboard is visible. If empty the table will be updated on every tab change and connect.\n- `context` configuration of context data. The subflow will save or cache data in the flows context using `$parent.`. \n   **tableData** caches the incoming data to restore it on `ui-control� *change* messages.\n   **tableConfig** saves column width and order to save the interactive table layot\n   **tableEdit** saves edits on the table data otherwise it would be overwritten when new data arrives\n```json\n{\n    \"tableData\": {\n        \"name\": \"tableData\"\n    },\n    \"tableConfig\": {\n        \"name\": \"tableConfig\",\n        \"storage\": \"file\"\n    },\n    \"tableEdit\": {\n        \"name\": \"tableEdit\",\n        \"storage\": \"file\"\n    }\n}\n```\n\n## commands\ncommands can be passed by sending a object as `msg.payload`\n\n```json\n{\n    \"command\": \"delete\",\n    \"object\": \"columnOrder\"\n}\n```\n\n- `deleteTable` tableCache\n- `deleteRow` delete single row. `object` matching index property\n- `ignoreRow` delete single row and put it on an ignore list. `object` matching index property\n- `unIgnoreRow`remove row from the ignore list.  `object` matching index property\n- `unIgnoreRows`delte the ignore list. \n- `deleteRowOrder` delete custom row order\n- `deleteColumnOrder` delete custom column order\n  This is important if you add or delete columns in the tabulator config otherwise the columns most likely don`t show up\n- `deleteColumnWidth` delete custom column width\n- `columnHide` hide a column. `object` matching column field\n- `columnUnHide` unhide a column. `object` matching column field\n- `columnsUnHide` unhide all hidden columns.\n- `setMaxStore` set maximum amount of rows in cache\n- `setMaxDisplay` set maximum amout of rows in ui-table\n- `getTable` get table data (as displayed) as an array (on 2nd output)\n \n## background\nui-table warps the powerfull tabluator library.  This subflow makes it easier to unleash the powerfull features of ui-table",
        "category": "dashboard",
        "in": [
            {
                "x": 54,
                "y": 85,
                "wires": [
                    {
                        "id": "5eb0bd6b.74b794"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 360,
                "y": 85,
                "wires": [
                    {
                        "id": "5eb0bd6b.74b794",
                        "port": 1
                    }
                ]
            },
            {
                "x": 360,
                "y": 136,
                "wires": [
                    {
                        "id": "5eb0bd6b.74b794",
                        "port": 2
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "tabulator",
                "type": "json",
                "value": "{\"tabulator\":{\"responsiveLayout\":\"collapse\",\"responsiveLayoutCollapseStartOpen\":false,\"index\":\"$name\",\"layout\":\"fitColumns\",\"movableColumns\":true,\"groupBy\":\"\",\"columnResized\":\"function(column){     var newColumn = {         field: column._column.field,         visible: column._column.visible,         width: column._column.width,         widthFixed: column._column.widthFixed,         widthStyled: column._column.widthStyled     }; this.send({topic:this.config.topic,ui_control:{callback:'columnResized',columnWidths:newColumn}}); }\",\"columnMoved\":\"function(column, columns){     var newColumns=[];     columns.forEach(function (column) {         newColumns.push({'field': column._column.definition.field, 'title': column._column.definition.title});     });     this.send({topic:this.config.topic,ui_control:{callback:'columnMoved',columns:newColumns}}); }\",\"rowFormatter\":\"function(row){     var data = row.getData();     switch (data.$state) {         case \\\"lost\\\":             row.getElement().style.backgroundColor = \\\"#9e2e66\\\";             row.getElement().style.color = \\\"#a6a6a6\\\";             break;         case \\\"sleeping\\\":             row.getElement().style.backgroundColor = \\\"#336699\\\";             break;         case \\\"disconnected\\\":             row.getElement().style.backgroundColor = \\\"#cc3300\\\";             row.getElement().style.color = \\\"#a6a6a6\\\";             break;         case \\\"alert\\\":             row.getElement().style.backgroundColor = \\\"#A6A6DF\\\";             break;         case \\\"init\\\":             row.getElement().style.backgroundColor = \\\"#f2f20d\\\";             break;         case \\\"ready\\\":             row.getElement().style.backgroundColor = \\\"\\\";             row.getElement().style.color = \\\"\\\";             break;         } }\",\"columns\":[{\"formatter\":\"responsiveCollapse\",\"width\":30,\"minWidth\":30,\"align\":\"center\",\"resizable\":false,\"headerSort\":false,\"frozen\":true,\"title\":\"expand\",\"field\":\"expand\",\"headerVertical\":\"flip\"},{\"formatter\":\"function(cell, formatterParams, onRendered) {      var html = cell.getValue(); return html;  }\",\"title\":\"State\",\"field\":\"$stateIcon\",\"width\":100,\"frozen\":true,\"headerVertical\":\"flip\"},{\"formatter\":\"function(cell, formatterParams, onRendered) {     var html = cell.getValue(); return html;  }\",\"title\":\"Signal\",\"field\":\"signalIcon\",\"width\":100,\"frozen\":true,\"headerVertical\":\"flip\"},{\"title\":\"Name\",\"field\":\"$name\",\"width\":100,\"frozen\":true,\"headerVertical\":\"flip\"},{\"title\":\"State\",\"field\":\"$state\",\"width\":100,\"align\":\"center\",\"headerVertical\":\"flip\"},{\"title\":\"last-ready\",\"field\":\"lastSeenreadyFormatted\",\"width\":100,\"align\":\"left\",\"headerVertical\":\"flip\"},{\"title\":\"Homie\",\"field\":\"$homie\",\"width\":100,\"align\":\"left\",\"headerVertical\":\"flip\"},{\"title\":\"Platform\",\"field\":\"$implementation\",\"width\":100,\"align\":\"left\",\"headerVertical\":\"flip\"},{\"title\":\"Statistics\",\"columns\":[{\"title\":\"Interval\",\"field\":\"interval\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"outputFormat\":\"d hh:mm:ss\",\"inputFormat\":\"seconds\",\"invalidPlaceholder\":\"(unknown)\"},\"title\":\"Uptime\",\"field\":\"uptime\",\"formatter\":\"function(cell, formatterParams, onRendered){     var pad = function (num) {         return (\\\"0\\\"+num).slice(-2);     };     var secs = Number(cell.getValue());     if (Number.isNaN(secs)) return;     var minutes = Math.floor(secs / 60);     secs = secs%60;     var hours = Math.floor(minutes/60);     minutes = minutes%60;     var days = Math.floor(hours/24);     hours = hours%24;     if (days>0)         return days+\\\"d \\\"+pad(hours)+\\\":\\\"+pad(minutes);     else         return pad(hours)+\\\":\\\"+pad(minutes)+\\\":\\\"+pad(secs); }\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":0,\"max\":100,\"color\":[\"red\",\"orange\",\"green\"],\"legend\":\"function (value) {if (value>0) return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" %</span>\\\"; else return; }\",\"legendColor\":\"#FFFFFF\",\"legendAlign\":\"center\"},\"title\":\"Signal\",\"field\":\"signal\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":2.5,\"max\":3.5,\"color\":[\"red\",\"green\",\"red\"],\"legend\":\"function (value) { if (value>0) return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" V</span>\\\"; else return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"Supply\",\"field\":\"supply\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":0,\"max\":100,\"color\":[\"red\",\"orange\",\"green\"],\"legend\":\"function (value) {     if (value>0)         return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" %</span>\\\";     else         return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"Battery\",\"field\":\"battery\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":0,\"max\":100000,\"color\":[\"red\",\"orange\",\"green\"],\"legend\":\"function (value) { if (value>0) return \\\"<span style='color:#FFFFFF;'>\\\"+(value/1024).toFixed(2)+\\\" kB</span>\\\"; else return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"Memory\",\"field\":\"freeheap\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"target\":\"_blank\",\"min\":0,\"max\":100,\"color\":[\"red\",\"orange\",\"green\"],\"legend\":\"function (value) {     if (value>0)         return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" %</span>\\\";     else         return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"CPU load\",\"field\":\"cpuload\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"},{\"formatterParams\":{\"min\":20,\"max\":60,\"color\":[\"green\",\"orange\",\"red\"],\"legend\":\"function (value) { if (value>0) return \\\"<span style='color:#FFFFFF;'>\\\"+value+\\\" �C</span>\\\"; else return; }\",\"legendColor\":\"#101010\",\"legendAlign\":\"center\"},\"title\":\"CPU temp\",\"field\":\"cputemp\",\"formatter\":\"progress\",\"width\":100,\"headerVertical\":\"flip\"}]},{\"title\":\"Firmware\",\"columns\":[{\"formatter\":\"link\",\"formatterParams\":{\"labelField\":\"$localip\",\"urlPrefix\":\"http://\",\"target\":\"_blank\"},\"title\":\"IP\",\"field\":\"$localip\",\"width\":100},{\"title\":\"mac\",\"field\":\"$mac\",\"width\":100},{\"title\":\"Accsess Point\",\"field\":\"SSID\",\"width\":100},{\"title\":\"Firmware\",\"field\":\"name\",\"width\":100},{\"title\":\"Version\",\"field\":\"version\",\"width\":100},{\"title\":\"Last Boot Cause\",\"field\":\"lastBootCause\",\"width\":100},{\"title\":\"Reset Reason\",\"field\":\"resetReason\",\"width\":100}]}]},\"customHeight\":12}",
                "ui": {
                    "icon": "font-awesome/fa-table",
                    "label": {
                        "en-US": "Tabulator"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "json",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "tableDataProp",
                "type": "str",
                "value": "row",
                "ui": {
                    "icon": "font-awesome/fa-tag",
                    "label": {
                        "en-US": "rowProperty"
                    }
                }
            },
            {
                "name": "tableIndex",
                "type": "str",
                "value": "$topic",
                "ui": {
                    "icon": "font-awesome/fa-indent",
                    "label": {
                        "en-US": "Index"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "str",
                            "json",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "maxRows",
                "type": "num",
                "value": "0",
                "ui": {
                    "icon": "font-awesome/fa-list-ol",
                    "type": "input",
                    "opts": {
                        "types": [
                            "num",
                            "bool",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "maxStore",
                "type": "num",
                "value": "0",
                "ui": {
                    "icon": "font-awesome/fa-database",
                    "type": "input",
                    "opts": {
                        "types": [
                            "num",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "dashboard",
                "type": "str",
                "value": "Remote Device Table",
                "ui": {
                    "icon": "font-awesome/fa-dashboard",
                    "label": {
                        "en-US": "Dashboard"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "str",
                            "env"
                        ]
                    }
                }
            },
            {
                "name": "tableContext",
                "type": "json",
                "value": "{\"tableData\":{\"name\":\"tableData\"},\"tableConfig\":{\"name\":\"tableConfig\",\"storage\":\"file\"},\"tableEdit\":{\"name\":\"tableEdit\",\"storage\":\"file\"}}",
                "ui": {
                    "icon": "font-awesome/fa-database",
                    "label": {
                        "en-US": "Context"
                    },
                    "type": "input",
                    "opts": {
                        "types": [
                            "json",
                            "env"
                        ]
                    }
                }
            }
        ],
        "color": "#3FADB5",
        "icon": "node-red-dashboard/ui_slider.png",
        "status": {
            "x": 360,
            "y": 34,
            "wires": [
                {
                    "id": "5eb0bd6b.74b794",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "930933373b4d5491",
        "type": "group",
        "z": "cf48a4fe2aef05dc",
        "name": "Netatmo token refresh",
        "style": {
            "label": true
        },
        "nodes": [
            "01b856875e0d074d",
            "b66d4f3e1d27c77d",
            "0c979bf8879c11e2"
        ],
        "x": 54,
        "y": 379
    },
    {
        "id": "7e6baf98.69239",
        "type": "ui_group",
        "name": "Global check",
        "tab": "85a5817c.1b7c5",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "f1bf23af235c0dc2",
        "type": "ui_group",
        "name": "Response",
        "tab": "85a5817c.1b7c5",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "85a5817c.1b7c5",
        "type": "ui_tab",
        "name": "HYBUILD",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "a14f81bfbb849ce6",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "1e5f2c4c4d826db9",
        "type": "ui_tab",
        "name": "Sensors",
        "icon": "device_hub",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d882d226ab44a9d9",
        "type": "ui_group",
        "name": "Sensor",
        "tab": "1e5f2c4c4d826db9",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "f994eabc581ae1ba",
        "type": "ui_group",
        "name": "Counter",
        "tab": "1e5f2c4c4d826db9",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "b76b175eb1c06672",
        "type": "ui_group",
        "name": "Sinusoid",
        "tab": "1e5f2c4c4d826db9",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "62110531d2bada68",
        "type": "ui_tab",
        "name": "Map & Netatmo",
        "icon": "map",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "b22ef8f6de170fbc",
        "type": "ui_group",
        "name": "Locations",
        "tab": "62110531d2bada68",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "bf61264521fde63b",
        "type": "ui_link",
        "name": "Editor",
        "link": "https://nodered-on-cloud.herokuapp.com/editor",
        "icon": "open_in_browser",
        "target": "iframe",
        "order": 5
    },
    {
        "id": "926d6874.375768",
        "type": "ui_group",
        "name": "Splash screen",
        "tab": "59e42317.d932fc",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "59e42317.d932fc",
        "type": "ui_tab",
        "name": "Home",
        "icon": "home",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "e40e97d4.1356e8",
        "type": "ui_group",
        "name": "Menu",
        "tab": "12c7c5a9.cc3c3a",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "f2aefa84.a9a108",
        "type": "ui_group",
        "name": "Group 2",
        "tab": "12c7c5a9.cc3c3a",
        "order": 3,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "b09937f3.b814f8",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "12c7c5a9.cc3c3a",
        "order": 2,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "75944167.0434b",
        "type": "ui_group",
        "name": "Group 3",
        "tab": "12c7c5a9.cc3c3a",
        "order": 4,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "12c7c5a9.cc3c3a",
        "type": "ui_tab",
        "name": "Exercise",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "40dcb9a28f8e5055",
        "type": "ui_group",
        "name": "Security",
        "tab": "1e5f2c4c4d826db9",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "bf8263b00b0e9ea1",
        "type": "ui_group",
        "name": "Web service API",
        "tab": "1e5f2c4c4d826db9",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "160e81fb.f1c86e",
        "type": "ui_group",
        "name": "File Browser",
        "tab": "b63d1f91.68095",
        "order": 1,
        "disp": false,
        "width": "16",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b63d1f91.68095",
        "type": "ui_tab",
        "name": "Files",
        "icon": "folder_open",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ddb72df8452ba7d7",
        "type": "ui_group",
        "name": "Desktop",
        "tab": "b63d1f91.68095",
        "order": 4,
        "disp": true,
        "width": 24,
        "collapse": false
    },
    {
        "id": "af2fe563cfd2cfa6",
        "type": "ui_group",
        "name": "Mobile",
        "tab": "b63d1f91.68095",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "15dfb40eb8a9110b",
        "type": "ui_group",
        "name": "Netatmo",
        "tab": "62110531d2bada68",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "739f3ba4668cb4d8",
        "type": "ui_group",
        "name": "Links",
        "tab": "85a5817c.1b7c5",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ee20ae5266a5e32c",
        "type": "telegrambot-config",
        "botname": "Heroku",
        "usernames": "",
        "chatIds": "",
        "pollInterval": "300"
    },
    {
        "id": "26e8fe8026c92abb",
        "type": "ui_group",
        "name": "Properties",
        "tab": "b63d1f91.68095",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4128a70510a0cd4e",
        "type": "ui_group",
        "name": "Preview",
        "tab": "b63d1f91.68095",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "9ee91c1b.c2b67",
        "type": "ui_group",
        "name": "Default",
        "tab": "b37faec6.3798a",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "2bb8dfa0.48854",
        "type": "mongodb",
        "hostname": "cluster0.ii09c.mongodb.net",
        "topology": "dnscluster",
        "connectOptions": "",
        "port": "27017",
        "db": "test",
        "name": ""
    },
    {
        "id": "b37faec6.3798a",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "f08c8c22d21d93de",
        "type": "vsh-connection",
        "name": "cali.laura@hotmail.it",
        "port": "8883",
        "accessTokenExpiry": "1638771465051",
        "debug": false,
        "backendUrl": "https://kfd5m4a21f.execute-api.eu-west-1.amazonaws.com/dev",
        "lwaClientId": "amzn1.application-oa2-client.3f1bb07133854b078261ad43f2484c18"
    },
    {
        "id": "c940c4049c9e1049",
        "type": "chatbot-telegram-node",
        "botname": "ReKata",
        "usernames": "",
        "polling": "1000",
        "store": "",
        "log": "",
        "debug": false,
        "skipMediaFiles": false,
        "webHook": "",
        "connectMode": "polling",
        "storeMessages": true,
        "enableMissionControl": false,
        "inspectMessages": true,
        "chatbotId": ""
    },
    {
        "id": "227839c5a19f7b4b",
        "type": "telegram bot",
        "botname": "Tanya Akrab",
        "usernames": "",
        "chatids": "",
        "baseapiurl": "",
        "updatemode": "polling",
        "pollinterval": "300",
        "usesocks": false,
        "sockshost": "",
        "socksport": "6667",
        "socksusername": "anonymous",
        "sockspassword": "",
        "bothost": "",
        "botpath": "",
        "localbotport": "8443",
        "publicbotport": "8443",
        "privatekey": "",
        "certificate": "",
        "useselfsignedcertificate": false,
        "sslterminated": false,
        "verboselogging": false
    },
    {
        "id": "5eb0bd6b.74b794",
        "type": "function",
        "z": "2924702c.b33a7",
        "name": "handle tableData",
        "func": "var status = {fill:\"red\",shape:\"dot\",text: \"payload \"};\nvar tableIndex = env.get(\"tableIndex\") || \"$topic\";\nvar tableDataProp = env.get(\"tableDataProp\") || \"row\";\nvar tableContext = env.get(\"tableContext\");\nvar dashboard = env.get(\"dashboard\");\nvar maxRows = env.get(\"maxRows\") || 0;\nvar maxStore = env.get(\"maxStore\") || 0;\n\nif (!tableContext.hasOwnProperty(\"tableData\") || !tableContext.hasOwnProperty(\"tableConfig\")) {\n    status.text=\"tableContext not defined\";\n    node.error(status.text);\n    return [{payload:status},null];\n}\n\n// context store to cache table data (memoryOnly prefered)\nvar tableData = flow.get(\"$parent.\"+tableContext.tableData.name,tableContext.tableData.storage);\nif (tableData===undefined) {\n    node.warn(\"[ui-table handler] tableData initialized!\");\n    tableData={};\n    flow.set(\"$parent.\"+tableContext.tableData.name,tableData,tableContext.tableData.storage);\n}\n\n// context Store to save table configuration (file)\nvar tableConfig = flow.get(\"$parent.\"+tableContext.tableConfig.name,tableContext.tableConfig.storage);\nif (tableConfig===undefined) {\n    node.warn(\"[ui-table handler] tableConfig initialized!\");\n    tableConfig={ResponsiveLayout:true};\n    flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n}\n\nif (tableConfig.hasOwnProperty(\"maxStore\")) maxStore=tableConfig.maxStore;\nif (tableConfig.hasOwnProperty(\"maxRows\")) maxRows=tableConfig.maxRows;\n\n// context Store to save table configuration (file)\nvar tableEdit;\nif (tableContext.hasOwnProperty(\"tableEdit\")) {\n    tableEdit = flow.get(\"$parent.\"+tableContext.tableEdit.name,tableContext.tableEdit.storage);\n    if (tableEdit===undefined) {\n        node.warn(\"[ui-table handler] tableEdit initialized!\");\n        tableEdit={};\n        flow.set(\"$parent.\"+tableContext.tableEdit.name,tableEdit,tableContext.tableEdit.storage);\n    }\n}\n\n// function to merge partial data into existing table row\nvar mergeObject = function (destination, source, filter) {\n    for (let currentSource in source) {\n        if (source.hasOwnProperty(currentSource)) {\n            if (filter!==undefined && tableEdit && tableEdit.hasOwnProperty(filter) && tableEdit[filter].hasOwnProperty(currentSource)) {\n                destination[currentSource]= tableEdit[filter][currentSource];\n                source[currentSource]=tableEdit[filter][currentSource];\n            } else {\n                destination[currentSource]= source[currentSource];\n            }\n        }    \n    }\n    return source;\n};\n\n// merge edits into a destination object respecting _children\nvar mergeEdits = function(destination) {\n    \n    var mergeChildEdits = function(children) {\n        children.forEach(child => {\n            if (child.hasOwnProperty(tableIndex) && tableEdit.hasOwnProperty(child[tableIndex])) {\n//                node.warn([\"mergeChild\",child])\n                Object.keys(tableEdit[child[tableIndex]]).forEach(edit => {\n                    if (child.hasOwnProperty(edit)) {\n                        child[edit]=tableEdit[child[tableIndex]][edit];\n//                        node.warn([\"mergeChild edit \",edit,child[edit]])\n                    }\n                });\n            }\n            if (child.hasOwnProperty(\"_children\")) {\n                mergeChildEdits(child._children);\n            }\n        })\n    }\n    \n\n    Object.keys(destination).forEach(row => {\n        if (destination[row].hasOwnProperty(tableIndex)) {\n            if (tableEdit.hasOwnProperty(row)) {\n                Object.keys(tableEdit[row]).forEach(edit => {\n                    destination[row][edit]=tableEdit[row][edit];\n                });\n            }\n            if (destination[row].hasOwnProperty(\"_children\")) {\n                mergeChildEdits(destination[row]._children);\n            }\n       }\n    });\n}\n\n// deep search for a column including nested columns\nvar searchTabulatorColumn = function (columns,key,match) {\n    var result;\n    for (let column of columns) {\n        if (column.hasOwnProperty(\"columns\")) {\n            result = searchTabulatorColumn(column.columns,key,match);\n            if (result!==undefined) return result;\n        } else if (column.hasOwnProperty(key) && column[key]===match) {\n            return column;\n        }\n    }\n};\n\n// command message to update add or update data on ui-table\nvar msgToTable={};\nmsgToTable.payload={\n    \"command\":msg.tabulatorCommand || \"updateOrAddData\",\n    \"arguments\": [],\n    \"returnPromise\": false\n};\n\n// store data in tableData\nif (msg.hasOwnProperty(tableDataProp)) {\n    // store data for later recover\n    if (!msg.hasOwnProperty(\"topic\")) { // check if index existst\n        status.text=\"msg.topic not defined!\";\n        return [{payload:status},null];\n    }\n    if (!tableData.hasOwnProperty(msg.topic)){ // first seen\n        if (maxRows>0 && Object.keys(tableData).lenght===0) {\n            tableConfig.currentFirstRow=msg.topic;\n        }\n        tableData[msg.topic]={};\n        if (tableEdit && tableEdit.hasOwnProperty(msg.topic)) { // table edits available!\n            Object.keys(tableEdit[msg.topic]).forEach((key) => {\n                msg[tableDataProp][key]=tableEdit[msg.topic][key];\n                tableData[msg.topic][key]=tableEdit[msg.topic][key];\n            })\n        }\n        if (maxStore>0 && typeof msg.topic === \"number\") { // limit rows in tableData\n            let rowKeys = Object.keys(tableData);\n            if (rowKeys.length>maxStore) {\n                for (let i=0; i<(rowKeys.length-maxStore); i++) {\n                    delete tableData[rowKeys[i]];\n                }\n            }\n        }\n    }\n    if (!tableData[msg.topic].hasOwnProperty(tableIndex)) tableData[msg.topic][tableIndex]=msg.topic;\n    msg[tableDataProp]=mergeObject(tableData[msg.topic],msg[tableDataProp],msg.topic);\n    msg[tableDataProp][tableIndex]=msg.topic;\n    msgToTable.payload.arguments=[[msg[tableDataProp]]];\n    // add aditional parameters\n    if (msg.hasOwnProperty(\"tabulatorParameter\") && Array.isArray(msg.tabulatorParameter)) {\n        for (let arg in msg.tabulatorParameter) msgToTable.payload.arguments.push(arg);\n    }\n    // delete rows if rows exceed maxRows\n    /*\n    if (maxRows>0 && tableConfig.hasOwnProperty(\"currentFirstRow\") && typeof tableData[msg.topic][tableIndex]===\"number\") {\n        //node.warn([maxRows,tableConfig.hasOwnProperty(\"currentFirstRow\"),typeof tableData[msg.topic][tableIndex],tableConfig.currentFirstRow,tableData[msg.topic][tableIndex]-maxRows])\n        if (tableConfig.currentFirstRow<tableData[msg.topic][tableIndex]-maxRows) {\n            node.warn([\"maxRowExeeded\",tableConfig.currentFirstRow]);\n            node.send([null,{payload:{\"command\":\"deleteRow\",\"arguments\": [tableConfig.currentFirstRow],\"returnPromise\": false}},null]);\n            tableConfig.currentFirstRow++;\n        }\n    }*/\n    if (maxRows>0 && typeof tableData[msg.topic][tableIndex]===\"number\" && msg.topic-maxRows>0) {\n        node.send([null,{payload:{\"command\":\"deleteRow\",\"arguments\": [msg.topic-maxRows],\"returnPromise\": false}},null]);\n    }\n    status.fill=\"green\";\n    status.text=msg.topic+\" updated\";\n    return [{payload:status},msgToTable,null];\n} if (msg.payload===\"connect\" || (msg.payload===\"change\" && msg.name===dashboard) || (msg.hasOwnProperty(\"payload\") && msg.payload.hasOwnProperty(\"command\"))) { \n    if (!msg.hasOwnProperty(\"ui_control\")) {\n        msg.ui_control = env.get('tabulator');\n        status.text+=\" ui_control added\";\n    }\n    //process commands\n    //node.warn({\"command\":msg.payload.command,\"msg\":msg,\"object\":msg.payload.object})\n    if (msg.payload.hasOwnProperty(\"command\") && msg.payload.command!=='getTable') {\n        status.fill=\"blue\";\n        switch(msg.payload.command) {\n            case 'deleteTable':\n                flow.set(\"$parent.\"+tableContext.tableData.name,undefined,tableContext.tableData.storage);\n                tableData={};\n                status.text=\"tabledata deleted\";\n                node.warn(\"[ui-table handler] \"+\"tabledata deleted\");\n                break;\n            case 'deleteRow':\n            case 'deleteDevice':\n                var deleteRow = function(id) {\n                    // check if row is in root\n                    if (tableData.hasOwnProperty(id)) {\n                        delete tableData[id]\n                        return true;\n                    }\n                    // check if row is a child\n                    let deleteChildRow = function(children, id) {\n                        for(let i = 0; i < children.length; i++){\n                            if (children[i].hasOwnProperty(tableIndex) && children[i][tableIndex]===id) {\n                                children.splice(i, 1); \n                                return true; \n                            }\n                            if (children[i].hasOwnProperty(\"_children\")) {\n                                if (deleteChildRow(children[i]._children,id)) {\n                                    if (children[i]._children.length === 0) {\n                                        delete children[i]._children;\n                                    }\n                                    return true;\n                                }\n                            }\n                        }\n                        return false;\n                    };\n                    \n                    for (let row in tableData) {\n                        if (tableData[row].hasOwnProperty(\"_children\")) {\n                            if (deleteChildRow(tableData[row]._children,id)) return true;\n                        }\n                    }\n                    return false;\n                }\n                \n                if (deleteRow(msg.payload.object)) {\n                    status.text=msg.payload.object+\" deleted\";\n                } else {\n                    status.fill=\"yellow\";\n                    status.text=msg.payload.object+\" undefined\";\n                }\n                break;\n            case 'ignoreRow':\n            case 'ignoreDevice':\n                if (tableData.hasOwnProperty(msg.payload.object)) {\n                    delete tableData[msg.payload.object];\n                    status.text=msg.payload.object+\" will be ignored\";\n                    if (!tableConfig.hasOwnProperty('ignoreDevice')) tableConfig.ignoreDevice={};\n                    tableConfig.ignoreDevice[msg.payload.object]=true;\n                }\n                break;\n            case 'unIgnoreRow':\n            case 'unIgnoreDevice':\n                if (tableConfig.hasOwnProperty('ignoreDevice')) {\n                    delete tableConfig.ignoreDevice[msg.payload.object];\n                }\n                break;\n            case 'unIgnoreRows':\n            case 'unIgnoreDevices':\n                delete tableConfig.ignoreDevice;\n                break;\n            case 'updateData':\n                status.text=\"column \"+msg.payload.column+\" updated\";\n                delete msg.ui_control;\n                return [{payload:status},msg];\n            case 'updateTable':\n                status.text=msg.payload.command+\": \";\n                break;\n            case 'columnHide':\n                if (!tableConfig.hasOwnProperty('columnVisible')) tableConfig.columnVisible={};\n                tableConfig.columnVisible[msg.payload.object]=false;\n                break;\n            case 'columnUnHide':\n                if (!tableConfig.hasOwnProperty('columnVisible')) tableConfig.columnVisible={};\n                tableConfig.columnVisible[msg.payload.object]=true;\n                break;\n            case 'columnsUnHide':\n                for (let column in tableConfig.columnVisible) {\n                    if (tableConfig.columnVisible.hasOwnProperty(column)) tableConfig.columnVisible[column]=true;\n                }\n                break;\n            case 'refreshTable':\n                break;\n            case 'deleteColumnOrder':\n            case 'restoreColumnOrder':\n                delete tableConfig.columns;\n                break;\n            case 'deleteColumnWidth':\n            case 'resetColumnWidth':\n                delete tableConfig.columnWidths;\n                break;\n            case 'setResponsiveLayout':\n                tableConfig.ResponsiveLayout=!tableConfig.ResponsiveLayout;\n                break;\n            case 'deleteRowOrder':\n                delete tableConfig.rowOrder;\n                break;\n            case 'setMaxStore':\n                tableConfig.maxStore=msg.payload.object;\n                maxStore=msg.payload.object;\n                break;\n            case 'setMaxRows':\n                tableConfig.maxRows=msg.payload.object;\n                maxRows=msg.payload.object;\n                break;\n            default:\n                status.fill=\"red\";\n                status.text=\"unknown command \"+msg.payload.command;\n                node.warn(\"[ui-table handler] \"+status.text);\n                break;\n        }\n        flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n        node.send([{payload:status},null,null]);\n    }\n\n    // crawl through tabulator arrays and updated user defined values\n    var crawlTabulator = function (columns,match,config,property) {\n        for (let column of columns) {\n            if (column.hasOwnProperty(\"columns\")) {\n                crawlTabulator(column.columns,match,config,property);\n            } else if (config.hasOwnProperty(column[match])) column[property]=config[column.field];\n        }\n    };\n    \n    // restore custom column width\n    if (tableConfig.hasOwnProperty(\"columnWidths\") && msg.hasOwnProperty(\"ui_control\")) {\n        crawlTabulator(msg.ui_control.tabulator.columns,\"field\",tableConfig.columnWidths,\"width\");\n    }\n    \n    // restore custom column hide/show\n    if (tableConfig.hasOwnProperty(\"columnVisible\") && msg.hasOwnProperty(\"ui_control\")) {\n        crawlTabulator(msg.ui_control.tabulator.columns,\"field\",tableConfig.columnVisible,\"visible\");\n    }\n    \n    // restore custom responsive / standard view\n    if (tableConfig.hasOwnProperty(\"ResponsiveLayout\")) {\n        if (!tableConfig.ResponsiveLayout) {\n            msg.ui_control.tabulator.responsiveLayout=false;\n        }\n        msg.ui_control.tabulator.columns.forEach((column,index) => {\n            if (column.formatter===\"responsiveCollapse\") { // hide expand column on any position\n                column.visible=tableConfig.ResponsiveLayout;\n                return;\n            }\n        });\n    }\n\n    // sort columns\n    if (tableConfig.hasOwnProperty(\"columns\") && msg.hasOwnProperty(\"ui_control\") && msg.ui_control.hasOwnProperty(\"tabulator\")) {\n        var addedColumns = 0;\n        var sortColumnsByLayout = function (sortColumns, columnsLayout, targetColumns) {\n            for (var layoutColumn=0;  layoutColumn<columnsLayout.length; layoutColumn++) {\n                for (var sortColumn in sortColumns) {\n                    if (sortColumns[sortColumn].hasOwnProperty(\"columns\")) {\n                        targetColumns.push({\"title\":sortColumns[sortColumn].title, \"columns\":[]});\n                        sortColumnsByLayout(sortColumns[sortColumn].columns,columnsLayout,targetColumns[targetColumns.length-1].columns);\n                        layoutColumn=addedColumns; // jump forward after childes added\n                    } else {\n                        if (columnsLayout[layoutColumn].field===sortColumns[sortColumn].field){\n                            targetColumns.push(sortColumns[sortColumn]);\n                            addedColumns++;\n                            break;\n                        }\n                    }\n                }\n            }\n        };                 \n        var newColumns=[];\n        sortColumnsByLayout(msg.ui_control.tabulator.columns,tableConfig.columns,newColumns);\n        msg.ui_control.tabulator.columns=newColumns;\n    }\n\n    // restore stored lines after connect\n\n    let command = msg.payload.command;\n    var tableArray;\n    if (command===\"getTable\") {\n        msg.payload.tableArray=[];\n        tableArray=msg.payload.tableArray\n    } else {\n        msg.payload=[];\n        tableArray=msg.payload;\n    }\n    \n    var pushRowData = function(rowData) {\n        // ignore rows in ignoreRows array\n        if (tableConfig && tableConfig.hasOwnProperty(\"ignoreDevice\") && tableConfig.ignoreDevice[rowData]) {\n            // do nothing\n        } else {\n            // merge edits into table\n            if (tableEdit && tableEdit.hasOwnProperty(rowData)) {\n                let tableRow = RED.util.cloneMessage(tableData[rowData]);\n                Object.keys(tableEdit[rowData]).forEach((field) => {\n                    tableRow[field]=tableEdit[rowData][field];\n                });\n                tableArray.push(tableRow);\n            } else {\n                tableArray.push(tableData[rowData]);\n            }\n        }\n    }\n    \n    if (tableConfig.hasOwnProperty(\"rowOrder\")) {\n        // first check if new rows exits which are not in rowOrder\n        Object.keys(tableData).forEach((key) => {\n            if (tableConfig.rowOrder.indexOf(tableData[key][tableIndex])<0) {\n                tableConfig.rowOrder.push(tableData[key][tableIndex]); // add row to the end of rowOrder\n            }\n        });\n        tableConfig.rowOrder.forEach((value,index) => {\n            node.warn([\"pushRowOrder\",value,tableData.hasOwnProperty(value),tableData[value]]);\n            if (tableData.hasOwnProperty(value)) { // push rows in rowOrder sequence\n                pushRowData(value);\n            } else { // delete not existing rows from rowOrder\n                tableConfig.rowOrder.splice(index,1)\n            }\n       });\n    } else {\n        for (let rowData in tableData) {\n            pushRowData(rowData);\n        }\n    }\n    // store the first index if maxRows limits amount of displayed lines\n    if (maxRows>0 && tableData) {\n        let tableKeys=Object.keys(tableData);\n        if (tableKeys.length>0 && typeof tableData[tableKeys[0]][tableIndex] === \"number\") {\n            tableConfig.currentFirstRow=tableData[tableKeys[0]][tableIndex];\n        }\n    }\n    \n    if (command=='getTable'){\n        status.fill=\"blue\";\n        status.text+=\" \"+tableArray.length+\" rows emitted\";\n        return [{payload:status},null,msg];\n    } else {\n        status.fill=\"blue\";\n        status.text+=\" \"+tableArray.length+\" rows restored\";\n        return [{payload:status},msg,[{topic:\"maxRows\",payload:maxRows},{topic:\"maxStore\",payload:maxStore}]];\n    }\n} if (msg.hasOwnProperty(\"ui_control\")) {\n    // callback from tabulator\n    status.fill=\"blue\";\n    status.text=\"callback \"+msg.ui_control.callback;\n    switch(msg.ui_control.callback) {\n        case \"columnResized\": // save new column width\n            if (tableConfig.columnWidths===undefined) tableConfig.columnWidths={};\n            tableConfig.columnWidths[msg.ui_control.columnWidths.field]=msg.ui_control.columnWidths.width;\n            flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n            status.text=msg.ui_control.columnWidths.field+\"=\"+msg.ui_control.columnWidths.width+\"px\";\n            break;\n        case \"columnMoved\": // save new column order\n            if (tableConfig.columns===undefined) tableConfig.columns=[];\n            tableConfig.columns=msg.ui_control.columns;\n            flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n            status.text=\"new column order\";\n            break;\n        case \"cellEdited\":\n            if (tableEdit) {\n                if (!tableEdit.hasOwnProperty(msg[tableIndex])) tableEdit[msg[tableIndex]]={};\n                tableEdit[msg[tableIndex]][msg.field] = msg.payload; // save data and mark as edited field\n                flow.set(\"$parent.\"+tableContext.tableEdit.name,tableEdit,tableContext.tableEdit.storage);\n                mergeEdits(tableData);\n                flow.set(\"$parent.\"+tableContext.tableData.name,tableData,tableContext.tableData.storage);\n                status.text=msg[tableIndex]+\" \"+msg.field+\" edited to \"+msg.payload;\n                msg[tableDataProp]={};\n                msg[tableDataProp][tableIndex]=msg[tableIndex];\n                msg[tableDataProp][msg.field]=msg.payload;\n                msgToTable.payload.arguments=[[msg[tableDataProp]]];\n                node.send([{payload:status},null,msg]); // was node.send([{payload:status},msgToTable,msg]);\n            } else {\n                node.error(\"[ui-table handler] no tableEdit store defined!\")\n            }\n            break;\n        case \"rowContext\":\n            msg.ignoredDevices=[];\n            for (let rowData in tableConfig.ignoreDevice) {\n                if (tableConfig.ignoreDevice.hasOwnProperty(rowData)) {\n                    msg.ignoredDevices.push({\"text\":rowData,\"icon\":\"fa fa-plug\",\"topic\":\"unIgnoreDevice\",\"payload\":rowData})  \n                }\n            }\n            break;\n        case \"headerContext\":\n            msg.hiddenColumns=[];\n            let tabulatorConfig = env.get('tabulator');\n            for (let column in tableConfig.columnVisible) {\n                if (tableConfig.columnVisible.hasOwnProperty(column) &&\n                    !tableConfig.columnVisible[column]) {\n                    let configColumn=searchTabulatorColumn(tabulatorConfig.tabulator.columns,\"field\",column);\n                    let icon;\n                    if (configColumn.hasOwnProperty('title') && configColumn.title.toLowerCase().includes('</i>')) {\n                        // <i class='fa fa-star-half-o'></i> State\n                        let start=configColumn.title.indexOf(\"'fa \");\n                        let end=configColumn.title.indexOf(\"'\",start+1);\n                        icon=configColumn.title.substring(start+4,end);\n                    }\n                    msg.hiddenColumns.push({\"text\":column,\"icon\":icon,\"topic\":\"columnUnHide\",\"payload\":configColumn.field})  \n                }\n            }\n            break;\n        case \"rowMoved\":\n            if (tableConfig.rowOrder===undefined) tableConfig.rowOrder={};\n            tableConfig.rowOrder=msg.ui_control.rowOrder;\n            flow.set(\"$parent.\"+tableContext.tableConfig.name,tableConfig,tableContext.tableConfig.storage);\n            status.text=\"new row order\";\n            break;\n        default:\n            // if rowIndex exists pass complete object\n            if (msg.hasOwnProperty(tableIndex)) {\n                msg.rowData=tableData[msg[tableIndex]];\n            }\n            status.text=\"pass message\";\n    }\n    return [{payload:status},null,msg];\n} \nif (Array.isArray(msg.payload)) {\n    tableData={};\n    \n    msg.payload.forEach((row) => {\n        if (row.hasOwnProperty(tableIndex)) {\n            tableData[row[tableIndex]]=row;\n        }\n    });\n    if (msg.keepEdits) {\n        mergeEdits(tableData);\n    }\n\n    \n    flow.set(\"$parent.\"+tableContext.tableData.name,tableData,tableContext.tableData.storage);\n    if (tableContext.hasOwnProperty(\"tableEdit\") && !msg.keepEdits) {\n        tableEdit={};\n        flow.set(\"$parent.\"+tableContext.tableEdit.name,tableEdit,tableContext.tableEdit.storage);\n    }\n    status.fill=\"blue\"\n    status.text=\"table replaced \"+msg.payload.length+\" rows\";\n    return [{payload:status},msg,null];\n}    \n    \n// nothing to do bejond this point\nstatus.text+=\" [\"+msg.payload+\"]\";\nreturn [{payload:status},null];\n",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 192,
        "y": 85,
        "wires": [
            [],
            [],
            []
        ],
        "icon": "font-awesome/fa-table"
    },
    {
        "id": "9c09e087.a48e7",
        "type": "http request",
        "z": "3c1975f87cd0cabf",
        "name": "PUT",
        "method": "PUT",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://api.github.com/repos/rakahamarsudi/nodered-heroku/contents/{{filename}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 590,
        "y": 280,
        "wires": [
            [
                "b481381501d2b414",
                "bf5f346c4b0a119a"
            ]
        ]
    },
    {
        "id": "1dc8605f.7ac4e",
        "type": "change",
        "z": "3c1975f87cd0cabf",
        "name": "set headers",
        "rules": [
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{\"User-Agent\":\"Node-RED\"}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "headers.Authorization",
                "pt": "msg",
                "to": "AUTHORIZATION_HEADER",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 220,
        "wires": [
            [
                "9c09e087.a48e7",
                "62f9eddeac70ae91",
                "4f7225cf4c5b17b7"
            ]
        ]
    },
    {
        "id": "ba9ea225.c2fbe",
        "type": "http request",
        "z": "3c1975f87cd0cabf",
        "name": "GET",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://api.github.com/repos/rakahamarsudi/nodered-heroku/contents/{{filename}}",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 590,
        "y": 100,
        "wires": [
            [
                "c153c93bfd0eede3",
                "e585584fd416aab4"
            ]
        ]
    },
    {
        "id": "ae8ddf10.868fd",
        "type": "change",
        "z": "3c1975f87cd0cabf",
        "name": "set msg.headers",
        "rules": [
            {
                "t": "set",
                "p": "headers.User-Agent",
                "pt": "msg",
                "to": "Node-RED",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "headers.Authorization",
                "pt": "msg",
                "to": "AUTHORIZATION_HEADER",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 40,
        "wires": [
            [
                "ba9ea225.c2fbe"
            ]
        ]
    },
    {
        "id": "819e400b.96d61",
        "type": "comment",
        "z": "3c1975f87cd0cabf",
        "name": "GitHub Token",
        "info": "Set GITHUB_TOKEN in [Heroku Config Vars](https://dashboard.heroku.com/apps/nodered-on-cloud/settings).\nSee [Personal access tokens](https://github.com/settings/tokens) page (repo).",
        "x": 110,
        "y": 280,
        "wires": []
    },
    {
        "id": "b481381501d2b414",
        "type": "debug",
        "z": "3c1975f87cd0cabf",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 280,
        "wires": []
    },
    {
        "id": "f4f0342516f4afea",
        "type": "file in",
        "z": "3c1975f87cd0cabf",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 880,
        "y": 160,
        "wires": [
            [
                "6a2bc486f2838313"
            ]
        ]
    },
    {
        "id": "c153c93bfd0eede3",
        "type": "debug",
        "z": "3c1975f87cd0cabf",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 100,
        "wires": []
    },
    {
        "id": "e585584fd416aab4",
        "type": "change",
        "z": "3c1975f87cd0cabf",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload.sha",
                "pt": "msg",
                "to": "temp",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 160,
        "wires": [
            [
                "f4f0342516f4afea"
            ]
        ]
    },
    {
        "id": "6a2bc486f2838313",
        "type": "change",
        "z": "3c1975f87cd0cabf",
        "name": "set msg.payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"content\": $base64encode(payload)}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.sha",
                "pt": "msg",
                "to": "temp",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.message",
                "pt": "msg",
                "to": "Commit from nodered-on-cloud",
                "tot": "str"
            },
            {
                "t": "delete",
                "p": "temp",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 220,
        "wires": [
            [
                "1dc8605f.7ac4e"
            ]
        ]
    },
    {
        "id": "bc604bc3fb7cfdf7",
        "type": "inject",
        "z": "3c1975f87cd0cabf",
        "name": "check env var",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "${AUTHORIZATION_HEADER}",
        "payloadType": "str",
        "x": 870,
        "y": 40,
        "wires": [
            [
                "c153c93bfd0eede3"
            ]
        ]
    },
    {
        "id": "f92e1e8dffe158f7",
        "type": "change",
        "z": "3c1975f87cd0cabf",
        "name": "flows.json",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "flows.json",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 40,
        "wires": [
            [
                "ae8ddf10.868fd"
            ]
        ]
    },
    {
        "id": "98b5b9035834b822",
        "type": "change",
        "z": "3c1975f87cd0cabf",
        "name": "flows_cred.json",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "flows_cred.json",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 140,
        "wires": [
            [
                "ae8ddf10.868fd"
            ]
        ]
    },
    {
        "id": "7a7584df89bbce4a",
        "type": "inject",
        "z": "3c1975f87cd0cabf",
        "name": "SAVE",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 110,
        "y": 40,
        "wires": [
            [
                "f92e1e8dffe158f7",
                "98b5b9035834b822",
                "71c40b7254660299"
            ]
        ]
    },
    {
        "id": "354462253c0f942f",
        "type": "inject",
        "z": "3c1975f87cd0cabf",
        "name": "push to GitHub",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 340,
        "y": 80,
        "wires": [
            [
                "f92e1e8dffe158f7"
            ]
        ]
    },
    {
        "id": "a549d342fd99909d",
        "type": "inject",
        "z": "3c1975f87cd0cabf",
        "name": "push to GitHub",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 340,
        "y": 180,
        "wires": [
            [
                "98b5b9035834b822"
            ]
        ]
    },
    {
        "id": "2d16cee553d899ee",
        "type": "inject",
        "z": "3c1975f87cd0cabf",
        "name": "push to GitHub",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 340,
        "y": 280,
        "wires": [
            [
                "71c40b7254660299"
            ]
        ]
    },
    {
        "id": "71c40b7254660299",
        "type": "change",
        "z": "3c1975f87cd0cabf",
        "name": "package.json",
        "rules": [
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "package.json",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 240,
        "wires": [
            [
                "ae8ddf10.868fd"
            ]
        ]
    },
    {
        "id": "bf5f346c4b0a119a",
        "type": "debug",
        "z": "3c1975f87cd0cabf",
        "name": "Name File",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 360,
        "wires": []
    },
    {
        "id": "62f9eddeac70ae91",
        "type": "debug",
        "z": "3c1975f87cd0cabf",
        "name": "Name GET",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1050,
        "y": 140,
        "wires": []
    },
    {
        "id": "4f7225cf4c5b17b7",
        "type": "debug",
        "z": "3c1975f87cd0cabf",
        "name": "Header GET",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "headers",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1070,
        "y": 220,
        "wires": []
    },
    {
        "id": "1714967f.e691ea",
        "type": "inject",
        "z": "cf48a4fe2aef05dc",
        "d": true,
        "name": "every 1h",
        "props": [
            {
                "p": "headers",
                "v": "{\"Authorization\":\"Bearer 60ad3104ead4d8526a0e9510|6945bd0e5d72adac51100b344cd5d58e\"}",
                "vt": "json"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payloadType": "str",
        "x": 160,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "1b24ad2f.198453",
        "type": "function",
        "z": "cf48a4fe2aef05dc",
        "name": "",
        "func": "// create position\nmsg.payload={\n    lat:35.153, \n    lon:33.397, \n    name:\"Alice\", \n    icon:\"female\", \n    color:\"#000\"};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 220,
        "wires": [
            [
                "3966d8a0.663828",
                "90459018.96315"
            ]
        ]
    },
    {
        "id": "de3a90c8.8179c",
        "type": "ui_button",
        "z": "cf48a4fe2aef05dc",
        "name": "",
        "group": "b22ef8f6de170fbc",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Aglantzia",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 160,
        "y": 220,
        "wires": [
            [
                "1b24ad2f.198453"
            ]
        ]
    },
    {
        "id": "223f301c.54ea9",
        "type": "comment",
        "z": "cf48a4fe2aef05dc",
        "name": "How to embed Map in Dashboard",
        "info": "This example shows how to embed the Worldmap \nwithin the `node-red-dashboard`\n\nThe  flow creates a dashboard button that \ngenerates a randon position, with the required \nicon, and passes that to the worldmap. The\nmap is configured to automatically pan to the\nposition of any point that arrives.\n",
        "x": 210,
        "y": 40,
        "wires": []
    },
    {
        "id": "243b5eceef79ce35",
        "type": "function",
        "z": "cf48a4fe2aef05dc",
        "name": "",
        "func": "// create position\nmsg.payload={\n    lat:41.305, \n    lon:0.427, \n    name:\"Alice\", \n    icon:\"female\", \n    color:\"#000\"};\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 180,
        "wires": [
            [
                "3966d8a0.663828",
                "90459018.96315"
            ]
        ]
    },
    {
        "id": "ef9a423f9dc55393",
        "type": "ui_button",
        "z": "cf48a4fe2aef05dc",
        "name": "",
        "group": "b22ef8f6de170fbc",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Almatret",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 160,
        "y": 180,
        "wires": [
            [
                "243b5eceef79ce35"
            ]
        ]
    },
    {
        "id": "56b6733667baf154",
        "type": "ui_button",
        "z": "cf48a4fe2aef05dc",
        "name": "",
        "group": "b22ef8f6de170fbc",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Langenwang",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 170,
        "y": 100,
        "wires": [
            [
                "db4d22135dd63675"
            ]
        ]
    },
    {
        "id": "e92df1f4ce1ee69a",
        "type": "ui_button",
        "z": "cf48a4fe2aef05dc",
        "name": "",
        "group": "b22ef8f6de170fbc",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "label": "Palermo",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 160,
        "y": 140,
        "wires": [
            [
                "d0a88c96f0eb8df7"
            ]
        ]
    },
    {
        "id": "db4d22135dd63675",
        "type": "function",
        "z": "cf48a4fe2aef05dc",
        "name": "",
        "func": "// create position\nmsg.payload={\n    lat:47.568, \n    lon:15.615, \n    name:\"Alice\", \n    icon:\"female\", \n    color:\"#000\"};\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 100,
        "wires": [
            [
                "3966d8a0.663828",
                "90459018.96315"
            ]
        ]
    },
    {
        "id": "d0a88c96f0eb8df7",
        "type": "function",
        "z": "cf48a4fe2aef05dc",
        "name": "",
        "func": "// create position\nmsg.payload={\n    lat:38.117, \n    lon:13.367, \n    name:\"Alice\", \n    icon:\"female\", \n    color:\"#000\"};\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 140,
        "wires": [
            [
                "3966d8a0.663828",
                "90459018.96315"
            ]
        ]
    },
    {
        "id": "01b856875e0d074d",
        "type": "http request",
        "z": "cf48a4fe2aef05dc",
        "g": "930933373b4d5491",
        "name": "/oauth2/token",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://api.netatmo.com/oauth2/token",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 340,
        "y": 420,
        "wires": [
            [
                "b66d4f3e1d27c77d"
            ]
        ]
    },
    {
        "id": "b66d4f3e1d27c77d",
        "type": "debug",
        "z": "cf48a4fe2aef05dc",
        "g": "930933373b4d5491",
        "name": "Netatmo",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 520,
        "y": 420,
        "wires": []
    },
    {
        "id": "0c979bf8879c11e2",
        "type": "inject",
        "z": "cf48a4fe2aef05dc",
        "g": "930933373b4d5491",
        "name": "every 2h",
        "props": [
            {
                "p": "headers",
                "v": "{\"Content-Type\":\"application/x-www-form-urlencoded\"}",
                "vt": "json"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "7200",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"grant_type\":\"refresh_token\",\"client_id\":\"60ad31c6b9cc5228023a7860\",\"client_secret\":\"NEdg4BQFfMMitHVaR64O7KHZdgaLF40KP1yrtGU19OjA\",\"refresh_token\":\"60ad3104ead4d8526a0e9510|a6fc000a3d9d2dcc573cccb9f2596c34\"}",
        "payloadType": "json",
        "x": 160,
        "y": 420,
        "wires": [
            [
                "01b856875e0d074d"
            ]
        ]
    },
    {
        "id": "0c550dcd627c0c5f",
        "type": "http request",
        "z": "cf48a4fe2aef05dc",
        "name": "/getstationsdata",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://api.netatmo.com/api/getstationsdata?get_favorites=false",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "bearer",
        "senderr": false,
        "x": 340,
        "y": 340,
        "wires": [
            [
                "d16b31a35ad7985a",
                "212ba746cdc89b95"
            ]
        ]
    },
    {
        "id": "6d274fd0533363ac",
        "type": "ui_template",
        "z": "cf48a4fe2aef05dc",
        "group": "15dfb40eb8a9110b",
        "name": "textarea",
        "order": 6,
        "width": 6,
        "height": "10",
        "format": "<textarea rows=\"120\">{{msg.payload}}</textarea>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "x": 660,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "d16b31a35ad7985a",
        "type": "yaml",
        "z": "cf48a4fe2aef05dc",
        "property": "payload",
        "name": "",
        "x": 510,
        "y": 340,
        "wires": [
            [
                "6d274fd0533363ac"
            ]
        ]
    },
    {
        "id": "212ba746cdc89b95",
        "type": "change",
        "z": "cf48a4fe2aef05dc",
        "name": "temp",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.body.devices[0].dashboard_data.Temperature",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 280,
        "wires": [
            [
                "8afa42165746db14"
            ]
        ]
    },
    {
        "id": "8afa42165746db14",
        "type": "ui_chart",
        "z": "cf48a4fe2aef05dc",
        "name": "",
        "group": "b22ef8f6de170fbc",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "{{msg.payload}} �C",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 650,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "c9e10b44.9e6d58",
        "type": "comment",
        "z": "cf48a4fe2aef05dc",
        "name": "bearer token",
        "info": "60ad3104ead4d8526a0e9510|6945bd0e5d72adac51100b344cd5d58e",
        "x": 330,
        "y": 300,
        "wires": []
    },
    {
        "id": "828886288d7170f4",
        "type": "inject",
        "z": "cf48a4fe2aef05dc",
        "name": "every 5m",
        "props": [],
        "repeat": "300",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "x": 170,
        "y": 340,
        "wires": [
            [
                "0c550dcd627c0c5f"
            ]
        ]
    },
    {
        "id": "3966d8a0.663828",
        "type": "worldmap-tracks",
        "z": "cf48a4fe2aef05dc",
        "name": "",
        "depth": "5",
        "layer": "combined",
        "smooth": false,
        "x": 510,
        "y": 40,
        "wires": [
            [
                "90459018.96315"
            ]
        ]
    },
    {
        "id": "90459018.96315",
        "type": "ui_worldmap",
        "z": "cf48a4fe2aef05dc",
        "group": "15dfb40eb8a9110b",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "lat": "",
        "lon": "",
        "zoom": "",
        "layer": "OSM",
        "cluster": "",
        "maxage": "",
        "usermenu": "show",
        "layers": "show",
        "panit": "true",
        "panlock": "false",
        "zoomlock": "false",
        "hiderightclick": "true",
        "coords": "none",
        "showgrid": "true",
        "allowFileDrop": "false",
        "path": "/worldmap",
        "mapname": "",
        "mapurl": "",
        "mapopt": "",
        "mapwms": false,
        "x": 580,
        "y": 160,
        "wires": []
    },
    {
        "id": "d21b9139cec20e2e",
        "type": "ui_button",
        "z": "41cb18232e7c1de3",
        "name": "",
        "group": "e40e97d4.1356e8",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Tab 1",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"group\":{\"hide\":[\"Exercise_Group_2\",\"Exercise_Group_3\"],\"show\":[\"Exercise_Group_1\"]}}",
        "payloadType": "json",
        "topic": "",
        "topicType": "str",
        "x": 150,
        "y": 280,
        "wires": [
            [
                "d688c08f9adedcb1"
            ]
        ]
    },
    {
        "id": "36da6fb527c00111",
        "type": "ui_button",
        "z": "41cb18232e7c1de3",
        "name": "",
        "group": "e40e97d4.1356e8",
        "order": 2,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Tab 2",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"group\":{\"hide\":[\"Exercise_Group_1\",\"Exercise_Group_3\"],\"show\":[\"Exercise_Group_2\"]}}",
        "payloadType": "json",
        "topic": "",
        "topicType": "str",
        "x": 150,
        "y": 320,
        "wires": [
            [
                "d688c08f9adedcb1"
            ]
        ]
    },
    {
        "id": "1a72f0e2456663f3",
        "type": "ui_button",
        "z": "41cb18232e7c1de3",
        "name": "",
        "group": "e40e97d4.1356e8",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Tab 3",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"group\":{\"hide\":[\"Exercise_Group_1\",\"Exercise_Group_2\"],\"show\":[\"Exercise_Group_3\"]}}",
        "payloadType": "json",
        "topic": "",
        "topicType": "str",
        "x": 150,
        "y": 360,
        "wires": [
            [
                "d688c08f9adedcb1"
            ]
        ]
    },
    {
        "id": "0b9971b32cbe4d18",
        "type": "ui_gauge",
        "z": "41cb18232e7c1de3",
        "name": "",
        "group": "f2aefa84.a9a108",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "Gauge",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 730,
        "y": 180,
        "wires": []
    },
    {
        "id": "617c1f4d98329283",
        "type": "ui_template",
        "z": "41cb18232e7c1de3",
        "group": "b09937f3.b814f8",
        "name": "",
        "order": 1,
        "width": 6,
        "height": 3,
        "format": "This is the start group.<br/>\nPress Tab 2 to move to the next group.<br/>\nThen slide the slider.",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 740,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "bb91b41b7d1f512c",
        "type": "ui_button",
        "z": "41cb18232e7c1de3",
        "name": "",
        "group": "75944167.0434b",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"group\":{\"hide\":[\"Exercise_Group_2\",\"Exercise_Group_3\"],\"show\":[\"Exercise_Group_1\"]}}",
        "payloadType": "json",
        "topic": "",
        "x": 730,
        "y": 280,
        "wires": [
            [
                "d688c08f9adedcb1"
            ]
        ]
    },
    {
        "id": "d688c08f9adedcb1",
        "type": "ui_ui_control",
        "z": "41cb18232e7c1de3",
        "name": "",
        "x": 560,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "70a372643fc4618e",
        "type": "ui_slider",
        "z": "41cb18232e7c1de3",
        "name": "",
        "label": "slider",
        "tooltip": "",
        "group": "f2aefa84.a9a108",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "topicType": "str",
        "min": 0,
        "max": 10,
        "step": 1,
        "x": 370,
        "y": 160,
        "wires": [
            [
                "0b9971b32cbe4d18",
                "870ab82bd7a85786"
            ]
        ]
    },
    {
        "id": "1fbb3c163cad9be3",
        "type": "ui_template",
        "z": "41cb18232e7c1de3",
        "group": "75944167.0434b",
        "name": "",
        "order": 1,
        "width": 6,
        "height": 3,
        "format": "Slider reached > 7 = Passed</br>\nHit Reset to go back to Tab 1</br>\nOr wait 10 seconds.",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "x": 740,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "870ab82bd7a85786",
        "type": "function",
        "z": "41cb18232e7c1de3",
        "name": "",
        "func": "if (msg.payload > 7) {\n    m2 = {payload : 0};\n    msg.payload = {\"group\":{\"hide\":[\"Exercise_Group_1\",\"Exercise_Group_2\"],\"show\":[\"Exercise_Group_3\"]}};\n    return [ m2, msg];\n}\nreturn null;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 220,
        "wires": [
            [
                "70a372643fc4618e",
                "0b9971b32cbe4d18"
            ],
            [
                "22bc5159476bf63e"
            ]
        ]
    },
    {
        "id": "c458913dd6caf11e",
        "type": "inject",
        "z": "41cb18232e7c1de3",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"group\":{\"hide\":[\"Exercise_Group_2\",\"Exercise_Group_3\"],\"show\":[\"Exercise_Group_1\"]}}",
        "payloadType": "json",
        "x": 170,
        "y": 240,
        "wires": [
            [
                "d688c08f9adedcb1"
            ]
        ]
    },
    {
        "id": "22bc5159476bf63e",
        "type": "trigger",
        "z": "41cb18232e7c1de3",
        "name": "",
        "op1": "",
        "op2": "{\"group\":{\"hide\":[\"Exercise_Group_2\",\"Exercise_Group_3\"],\"show\":[\"Exercise_Group_1\"]}}",
        "op1type": "pay",
        "op2type": "json",
        "duration": "10",
        "extend": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "outputs": 1,
        "x": 450,
        "y": 280,
        "wires": [
            [
                "d688c08f9adedcb1"
            ]
        ]
    },
    {
        "id": "53035f704bb7e6be",
        "type": "inject",
        "z": "1f0274a4dfdeb367",
        "name": "Init",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "change",
        "payload": "/app",
        "payloadType": "str",
        "x": 90,
        "y": 340,
        "wires": [
            [
                "be8f219082382d87",
                "85090a46f8fa54c4"
            ]
        ]
    },
    {
        "id": "ced80261c7808b0f",
        "type": "ui_button",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 5,
        "width": 2,
        "height": 1,
        "passthru": true,
        "label": "Refresh",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "refresh",
        "payload": "",
        "payloadType": "str",
        "topic": "refresh",
        "topicType": "str",
        "x": 80,
        "y": 160,
        "wires": [
            [
                "be8f219082382d87"
            ]
        ]
    },
    {
        "id": "31aa125dbda0cefa",
        "type": "ui_button",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Delete",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "delete",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 70,
        "y": 400,
        "wires": [
            [
                "f7cd5aa1b1cc81c8"
            ]
        ]
    },
    {
        "id": "f7cd5aa1b1cc81c8",
        "type": "function",
        "z": "1f0274a4dfdeb367",
        "name": "Get file",
        "func": "// Get the filename from the flow context\nlet filename = flow.get(\"fileselected\");\n\n// check, if the filename is undefined that means it does not exist yet, nothing is selected yet\n// return: do not output anything\nif (filename === undefined) {\n    return;\n}\n\n// return the filename to the file-in node to delete\nmsg.filename = filename;\n\nif (msg.filename.replace(/^.*(\\\\|\\/|\\:)/, '')[0] !== \".\") {\n    // Only do this if this is a file, we don't delete folders\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 400,
        "wires": [
            [
                "0b135f82c4167c37"
            ]
        ]
    },
    {
        "id": "9abed70c1a84e163",
        "type": "file",
        "z": "1f0274a4dfdeb367",
        "name": "Delete file",
        "filename": "",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 940,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "6d1fb9900e550934",
        "type": "http in",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "url": "/download",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 100,
        "y": 520,
        "wires": [
            [
                "f4845b5f01b3459e"
            ]
        ]
    },
    {
        "id": "4426891007434b2f",
        "type": "http response",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 790,
        "y": 520,
        "wires": []
    },
    {
        "id": "f4845b5f01b3459e",
        "type": "function",
        "z": "1f0274a4dfdeb367",
        "name": "Extract file",
        "func": "msg.filename = msg.req.query.filename;\nmsg.contentdisposition = \"attachment; filename=\\\"\" + msg.req.query.filename.replace(/^.*(\\\\|\\/|\\:)/, '') + \"\\\"\";\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 520,
        "wires": [
            [
                "61f9b4a564ad6ffc"
            ]
        ],
        "outputLabels": [
            "Folder selected"
        ]
    },
    {
        "id": "61f9b4a564ad6ffc",
        "type": "file in",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "filename": "",
        "format": "",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "x": 440,
        "y": 520,
        "wires": [
            [
                "301011cc86b7bb5a"
            ]
        ]
    },
    {
        "id": "301011cc86b7bb5a",
        "type": "change",
        "z": "1f0274a4dfdeb367",
        "name": "set headers",
        "rules": [
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "headers.content-type",
                "pt": "msg",
                "to": "text/csv",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "headers.Content-Disposition",
                "pt": "msg",
                "to": "contentdisposition",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 520,
        "wires": [
            [
                "4426891007434b2f"
            ]
        ]
    },
    {
        "id": "0c138e847437e572",
        "type": "ui_button",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Graph",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "show_chart",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 70,
        "y": 460,
        "wires": [
            [
                "49f1528d3aa277ab"
            ]
        ]
    },
    {
        "id": "49f1528d3aa277ab",
        "type": "function",
        "z": "1f0274a4dfdeb367",
        "name": "Get file",
        "func": "// Get the filename from the flow context\nlet filename = flow.get(\"fileselected\");\n\n// check, if the filename is undefined that means it does not exist yet, nothing is selected yet\n// return: do not output anything\nif (filename === undefined) {\n    return;\n}\n\n// return the filename to the file-in node to delete\nmsg.filename = filename;\n\nif (msg.filename.replace(/^.*(\\\\|\\/|\\:)/, '')[0] !== \".\") {\n    // Only do this if this is a file, we don't delete folders\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 460,
        "wires": [
            [
                "e04a6b965975de4c"
            ]
        ]
    },
    {
        "id": "e04a6b965975de4c",
        "type": "file in",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "filename": "",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "x": 440,
        "y": 460,
        "wires": [
            [
                "3d4282e9e0897475"
            ]
        ]
    },
    {
        "id": "3d4282e9e0897475",
        "type": "csv",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "sep": ",",
        "hdrin": true,
        "hdrout": "",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 610,
        "y": 460,
        "wires": [
            [
                "ac74a4bce6617ee6"
            ]
        ]
    },
    {
        "id": "ac74a4bce6617ee6",
        "type": "function",
        "z": "1f0274a4dfdeb367",
        "name": "Plot",
        "func": "var chart = [{\n    \"series\":[],\n    \"data\":[],\n    \"labels\":[msg.filename]\n}];\n\n\n/*\nvar pressure = [];\nvar out2 = [];\n\nfor (var i=0; i<msg.payload.length; i++) {\n    pressure.push({\"x\":msg.payload[i].timestamp, \"y\":msg.payload[i].pressure});\n    out2.push({\"x\":msg.payload[i].timestamp, \"y\":msg.payload[i].out2*200});\n\n}\nchart[0].data.push(pressure);\nchart[0].data.push(out2);\n*/\n\nlet columns = 0;\n\nfor(var series in msg.payload[0]) {\n    if(series!==\"time\") {\n        chart[0].series.push(series);\n        chart[0].data.push([]);\n        columns++;\n    }\n}\n\n\nfor (var j=0; j<msg.payload.length; j++) {\n   for(var i=0;i<columns;i++) {\n       chart[0].data[i].push({\"x\":msg.payload[j].time, \"y\":msg.payload[j][chart[0].series[i]]});\n   } \n}\n\n\n\n\nmsg.payload = chart;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 460,
        "wires": [
            [
                "fa1750f1405d7cfd",
                "2335365d4a57db45"
            ]
        ]
    },
    {
        "id": "fa1750f1405d7cfd",
        "type": "ui_chart",
        "z": "1f0274a4dfdeb367",
        "name": "for PC",
        "group": "ddb72df8452ba7d7",
        "order": 1,
        "width": 24,
        "height": 6,
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 950,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "36e25e118ac16fe2",
        "type": "ui_toast",
        "z": "1f0274a4dfdeb367",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Yes",
        "cancel": "No",
        "raw": false,
        "className": "",
        "topic": "",
        "name": "",
        "x": 630,
        "y": 400,
        "wires": [
            [
                "e7b0b9da37e7d796"
            ]
        ]
    },
    {
        "id": "0b135f82c4167c37",
        "type": "change",
        "z": "1f0274a4dfdeb367",
        "name": "set message",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Confirmation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "\"Delete \" & filename & \"?\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 400,
        "wires": [
            [
                "36e25e118ac16fe2"
            ]
        ]
    },
    {
        "id": "e7b0b9da37e7d796",
        "type": "switch",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Yes",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 790,
        "y": 400,
        "wires": [
            [
                "9abed70c1a84e163"
            ]
        ]
    },
    {
        "id": "be8f219082382d87",
        "type": "function",
        "z": "1f0274a4dfdeb367",
        "name": "Set folder",
        "func": "let folder = context.get(\"folder\") || \"/\";\ncontext.set(\"folder\", folder);\n\nlet hidden = context.get(\"hidden\") || false;\ncontext.set(\"hidden\", hidden);\n\nif (msg.topic===\"up\") {\n    var path = folder.split('/');\n    path.pop();\n    folder = path.join('/'); \n    if (folder===\"\") folder=\"/\";\n    context.set(\"folder\", folder);\n}\n\nif (msg.topic===\"change\") {\n    folder=msg.payload;    \n    context.set(\"folder\", folder);\n}\n\nif (msg.topic===\"hidden\") {\n    hidden=msg.payload;    \n    context.set(\"hidden\", hidden);\n}\n\nmsg.payload = {\"start\":folder, \"hidden\": hidden};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 240,
        "wires": [
            [
                "956b362d3c90f8d8",
                "bac1d476a4d0ef55"
            ]
        ]
    },
    {
        "id": "bac1d476a4d0ef55",
        "type": "ui_text",
        "z": "1f0274a4dfdeb367",
        "group": "160e81fb.f1c86e",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Folder:",
        "format": "{{msg.payload.start}}",
        "layout": "row-left",
        "className": "",
        "x": 450,
        "y": 240,
        "wires": []
    },
    {
        "id": "64d7b8680fb5a101",
        "type": "ui_button",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 2,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Parent",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "arrow_upwards",
        "payload": "",
        "payloadType": "str",
        "topic": "up",
        "topicType": "str",
        "x": 70,
        "y": 240,
        "wires": [
            [
                "be8f219082382d87"
            ]
        ]
    },
    {
        "id": "e030d0f2300f0ba1",
        "type": "ui_button",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Home",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "home",
        "payload": "/app",
        "payloadType": "str",
        "topic": "change",
        "topicType": "str",
        "x": 70,
        "y": 200,
        "wires": [
            [
                "be8f219082382d87"
            ]
        ]
    },
    {
        "id": "13d5391a3c7fd608",
        "type": "ui_switch",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "label": "Hidden",
        "tooltip": "Show hidden files or not",
        "group": "160e81fb.f1c86e",
        "order": 9,
        "width": 2,
        "height": 1,
        "passthru": false,
        "decouple": "false",
        "topic": "hidden",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "check_box",
        "oncolor": "#000000",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "check_box_outline_blank",
        "offcolor": "#000000",
        "x": 80,
        "y": 280,
        "wires": [
            [
                "be8f219082382d87"
            ]
        ]
    },
    {
        "id": "2335365d4a57db45",
        "type": "ui_chart",
        "z": "1f0274a4dfdeb367",
        "name": "for cell",
        "group": "af2fe563cfd2cfa6",
        "order": 1,
        "width": 6,
        "height": 4,
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 950,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "85090a46f8fa54c4",
        "type": "ui_button",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": true,
        "label": "Desktop",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "computer",
        "payload": "{\"group\":{\"show\":[\"Files_Desktop\"],\"hide\":[\"Files_Mobile\"]}}",
        "payloadType": "json",
        "topic": "",
        "topicType": "str",
        "x": 280,
        "y": 340,
        "wires": [
            [
                "973fa9e08c8aee33"
            ]
        ]
    },
    {
        "id": "973fa9e08c8aee33",
        "type": "ui_ui_control",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "events": "all",
        "x": 440,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "b6d2651503377b9d",
        "type": "ui_button",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": true,
        "label": "Mobile",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "smartphone",
        "payload": "{\"group\":{\"show\":[\"Files_Mobile\"],\"hide\":[\"Files_Desktop\"]}}",
        "payloadType": "json",
        "topic": "",
        "topicType": "str",
        "x": 610,
        "y": 340,
        "wires": [
            [
                "f740fdf5197ffcf3"
            ]
        ]
    },
    {
        "id": "f740fdf5197ffcf3",
        "type": "ui_ui_control",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "events": "all",
        "x": 800,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "8acb2b7c94f075e9",
        "type": "change",
        "z": "1f0274a4dfdeb367",
        "name": "change dir",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.name",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "change",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 810,
        "y": 240,
        "wires": [
            [
                "be8f219082382d87"
            ]
        ]
    },
    {
        "id": "5f1be4ecc1b1bfe1",
        "type": "change",
        "z": "1f0274a4dfdeb367",
        "name": "save file",
        "rules": [
            {
                "t": "set",
                "p": "fileselected",
                "pt": "flow",
                "to": "payload.name",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "payload.name",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 100,
        "wires": [
            [
                "bdd0d955d05693da"
            ]
        ]
    },
    {
        "id": "0f7a8e6438a00194",
        "type": "function",
        "z": "1f0274a4dfdeb367",
        "name": "Format table",
        "func": "for (var i = 0; i < msg.payload.length; i++) {\n//  msg.payload[i].stat.size = msg.payload[i].stat.size / 1024;\n    msg.payload[i].stat.created = msg.payload[i].stat.created.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].stat.changed = msg.payload[i].stat.changed.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].stat.accessed = msg.payload[i].stat.accessed.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].stat.statusChanged = msg.payload[i].stat.statusChanged.toISOString().slice(0, 19).replace('T', ' ');\n//  msg.payload[i].fname = (msg.payload[i].stat.isFile?\"\":\"[\") + msg.payload[i].name.replace(/^.*(\\\\|\\/|\\:)/, '')+(msg.payload[i].stat.isFile?\"\":\"]\");\n    msg.payload[i].fname = (msg.payload[i].stat.isFile ? \"\" : \"<b>[\") + msg.payload[i].name.replace(/^.*(\\\\|\\/|\\:)/, '') + (msg.payload[i].stat.isFile ? \"\" : \"]</b>\");\n//  msg.payload[i].link = msg.payload[i].stat.isDirectory ? \"\" : \"/download?filename=\" + msg.payload[i].name;\n    msg.payload[i].link = msg.payload[i].stat.isDirectory ? \"\" : \"<a href=\\\"/download?filename=\" + msg.payload[i].name + \"\\\"><img src=\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACf0lEQVR42mNkwAE0ApLF/wqIKwOZ/5k/vLxzY8Pc19jUMaILGPdsjfik4VDy5ieD0X+oPBPQEBF2htN8Nw50nynxXoPVADEzVw6himVLX/znCmLAAyQZv6142xEV/+rU7l8oBiitfrn2HRMPXDPQVgZWJgj797//DP+QHCv878uyu6Hi0XADJKuXR3438luGbJO7GAPDbP2/YHbqsc8MO7/wAVUzweW5zm0KetYauR5sgPCiJ2f/cgsa4TIg7fA7hl1vWRj+cfIDnQYxhPnL22Nv4+WsGZnldSR4+048AxrPCHOSuzgDg6nAf4ZUuX9gxbOvfWI49/4fw643TAy/OaCG/P//73ORmSgji56TDU/95sPItjuLMjDM1PvLwAZ18a+//xmyj31g2PcWKMDMzPCbnRfsnS/1nqaMzFrWtrzNuw6hhzbMEKBNYM37gZoZmRghbmRiZvjFxs3wqcrZjJFRQEKab86dx4yMjIyYhvxnYPnyjmH/G0awZogSKM3I+O9FmpY4WISn68h5FmVDfZAmTmYGBjvh/3BDmP7+YWD++xOs6cCL3wx/gBEMYv++dfrU63pfc7CtrFZB8dxFixaAwpGf5R9DtsRnRKwDxRih9NQ7fxl+MjCDDXjbEx/x48yOlTB1zFxFi9azWQf7gvzM+O8vA8uvL+DEBFIMcTHC+d8Or177fmpOGFDgH8LfrOx8XDkzl7Jah/iAFf//x8D2+xsDM5CGRTBU8/r3MwrjGP7+/oItM7GymvvFs/sX5DGrmWqDgo7t7w8Glr+///2+ffrS501TJ/44u3MJUN0fnLkRCtgYuQXkmMQVlBj+A93y8v7d/98+PgElCXSFAKXm39j74So1AAAAAElFTkSuQmCC\\\" /></a>\";\n}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 160,
        "wires": [
            [
                "6479c9674ee4c649"
            ]
        ]
    },
    {
        "id": "ca2e646fd2bfb668",
        "type": "ui_table",
        "z": "1f0274a4dfdeb367",
        "group": "160e81fb.f1c86e",
        "name": "",
        "order": 10,
        "width": 16,
        "height": "10",
        "columns": [
            {
                "field": "fname",
                "title": "Name",
                "width": "55%",
                "align": "left",
                "formatter": "html",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "stat.size",
                "title": "Size",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "stat.created",
                "title": "Created",
                "width": "15%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "stat.changed",
                "title": "Changed",
                "width": "15%",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "link",
                "title": "",
                "width": "1%",
                "align": "left",
                "formatter": "html",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 1,
        "cts": true,
        "x": 450,
        "y": 40,
        "wires": [
            [
                "9d3c9ab668d4d29d",
                "05802030cf171e1a"
            ]
        ]
    },
    {
        "id": "965cd37574ac4720",
        "type": "debug",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 560,
        "wires": []
    },
    {
        "id": "6479c9674ee4c649",
        "type": "sort",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "order": "ascending",
        "as_num": false,
        "target": "payload",
        "targetType": "msg",
        "msgKey": "$lowercase(fname)\t",
        "msgKeyType": "jsonata",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 290,
        "y": 100,
        "wires": [
            [
                "ca2e646fd2bfb668",
                "6de7a91d24be29e1"
            ]
        ]
    },
    {
        "id": "9d3c9ab668d4d29d",
        "type": "switch",
        "z": "1f0274a4dfdeb367",
        "name": "is file?",
        "property": "payload.stat.isFile",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 100,
        "wires": [
            [
                "5f1be4ecc1b1bfe1"
            ],
            [
                "8acb2b7c94f075e9"
            ]
        ]
    },
    {
        "id": "0dbef6831f2ca330",
        "type": "yaml",
        "z": "1f0274a4dfdeb367",
        "property": "payload",
        "name": "",
        "x": 790,
        "y": 40,
        "wires": [
            [
                "ffa3ba810c0b280e"
            ]
        ]
    },
    {
        "id": "ffa3ba810c0b280e",
        "type": "ui_template",
        "z": "1f0274a4dfdeb367",
        "group": "26e8fe8026c92abb",
        "name": "Properties",
        "order": 1,
        "width": 6,
        "height": "7",
        "format": "<textarea rows=\"21\">{{msg.payload}}</textarea>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 930,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "38da03d9810a48c7",
        "type": "inject",
        "z": "1f0274a4dfdeb367",
        "name": "selectable",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "ui_control",
                "v": "{\"tabulator\":{\"selectable\":1}}",
                "vt": "json"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{}",
        "payloadType": "json",
        "x": 110,
        "y": 40,
        "wires": [
            [
                "ca2e646fd2bfb668"
            ]
        ]
    },
    {
        "id": "bdd0d955d05693da",
        "type": "file in",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "filename": "",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 800,
        "y": 160,
        "wires": [
            [
                "863f5a110f457b23"
            ]
        ]
    },
    {
        "id": "863f5a110f457b23",
        "type": "ui_template",
        "z": "1f0274a4dfdeb367",
        "group": "4128a70510a0cd4e",
        "name": "Preview",
        "order": 1,
        "width": 6,
        "height": "11",
        "format": "<textarea rows=\"30\">{{msg.payload}}</textarea>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 940,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "05802030cf171e1a",
        "type": "change",
        "z": "1f0274a4dfdeb367",
        "name": "clean",
        "rules": [
            {
                "t": "delete",
                "p": "payload.link",
                "pt": "msg"
            },
            {
                "t": "delete",
                "p": "payload.fname",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 40,
        "wires": [
            [
                "0dbef6831f2ca330"
            ]
        ]
    },
    {
        "id": "83fba8629d1025e7",
        "type": "ui_chart",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "group": "26e8fe8026c92abb",
        "order": 2,
        "width": 6,
        "height": "4",
        "label": "File sizes",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "4",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 620,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "5be20cfc9f21ed75",
        "type": "change",
        "z": "1f0274a4dfdeb367",
        "name": "graph",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "payload.fname",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "payload.stat.size",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 160,
        "wires": [
            [
                "83fba8629d1025e7"
            ]
        ]
    },
    {
        "id": "6de7a91d24be29e1",
        "type": "split",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 450,
        "y": 100,
        "wires": [
            [
                "5be20cfc9f21ed75"
            ]
        ]
    },
    {
        "id": "65f1960c7832cc0c",
        "type": "inject",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "props": [],
        "repeat": "",
        "crontab": "*/1 0-23 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 100,
        "wires": [
            [
                "ced80261c7808b0f"
            ]
        ]
    },
    {
        "id": "956b362d3c90f8d8",
        "type": "fs-file-lister",
        "z": "1f0274a4dfdeb367",
        "name": "",
        "start": "data",
        "pattern": "*.*",
        "folders": "*",
        "hidden": false,
        "lstype": "both",
        "path": true,
        "single": true,
        "depth": 0,
        "stat": true,
        "showWarnings": false,
        "x": 280,
        "y": 160,
        "wires": [
            [
                "0f7a8e6438a00194"
            ]
        ]
    },
    {
        "id": "17cb2f52.423991",
        "type": "ui_chart",
        "z": "e316d93c3900f83e",
        "name": "",
        "group": "9ee91c1b.c2b67",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "{{description}}",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 830,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "c2e7cc75.6965d",
        "type": "http in",
        "z": "e316d93c3900f83e",
        "name": "",
        "url": "/test",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 340,
        "wires": [
            [
                "50c166b41b67fa20"
            ]
        ]
    },
    {
        "id": "1d83579f.d52208",
        "type": "http response",
        "z": "e316d93c3900f83e",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 830,
        "y": 340,
        "wires": []
    },
    {
        "id": "fde09fe0.fefc8",
        "type": "http request",
        "z": "e316d93c3900f83e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "{{{link}}}/test",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 390,
        "y": 100,
        "wires": [
            [
                "a3bb45e07d541dfe",
                "f56ee37cf9f38fda"
            ]
        ]
    },
    {
        "id": "c984e3d4a95aa1c0",
        "type": "inject",
        "z": "e316d93c3900f83e",
        "name": "SITE INFO",
        "props": [
            {
                "p": "link",
                "v": "https://nodered-on-cloud.herokuapp.com/",
                "vt": "str"
            },
            {
                "p": "description",
                "v": "Heroku",
                "vt": "str"
            },
            {
                "p": "timestamp",
                "v": "",
                "vt": "date"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 170,
        "y": 100,
        "wires": [
            [
                "fde09fe0.fefc8",
                "02abcb30c3447b74"
            ]
        ]
    },
    {
        "id": "a24fa4f1f96c0631",
        "type": "comment",
        "z": "e316d93c3900f83e",
        "name": "PLEASE MODIFY THIS",
        "info": "",
        "x": 160,
        "y": 60,
        "wires": []
    },
    {
        "id": "50c166b41b67fa20",
        "type": "template",
        "z": "e316d93c3900f83e",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{\n\t\"node_version\": \"node --version\",\n\t\"npm_version\": \"npm --version\",\n\t\"os_arch\": \"node -e \\\"console.log(require('os').arch())\\\"\",\n\t\"os_n_cpus\": \"node -e \\\"console.log(require('os').cpus().length)\\\"\",\n\t\"os_cpus\": \"node -e \\\"console.log(require('os').cpus())\\\"\",\n\t\"os_endianness\": \"node -e \\\"console.log(require('os').endianness())\\\"\",\n\t\"os_freemem\": \"node -e \\\"console.log(require('os').freemem()/1024/1024/1024)\\\"\",\n\t\"os_homedir\": \"node -e \\\"console.log(require('os').homedir())\\\"\",\n\t\"os_hostname\": \"node -e \\\"console.log(require('os').hostname())\\\"\",\n\t\"os_networkInterfaces\": \"node -e \\\"console.log(require('os').networkInterfaces())\\\"\",\n\t\"os_platform\": \"node -e \\\"console.log(require('os').platform())\\\"\",\n\t\"os_release\": \"node -e \\\"console.log(require('os').release())\\\"\",\n\t\"os_totalmem\": \"node -e \\\"console.log(require('os').totalmem()/1024/1024/1024)\\\"\",\n\t\"os_uptime\": \"node -e \\\"console.log(require('os').uptime()/60/60)\\\"\",\n\t\"os_userInfo\": \"node -e \\\"console.log(require('os').userInfo())\\\"\",\n\t\"os_type\": \"node -e \\\"console.log(require('os').type())\\\"\",\n\t\"os_version\": \"node -e \\\"console.log(require('os').version())\\\"\"\n}",
        "output": "json",
        "x": 380,
        "y": 340,
        "wires": [
            [
                "3dd936804f7b8ce2"
            ]
        ]
    },
    {
        "id": "c1cb9d6016bd5e8c",
        "type": "exec",
        "z": "e316d93c3900f83e",
        "command": "",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 170,
        "y": 420,
        "wires": [
            [
                "503a7824fb95bd02"
            ],
            [
                "503a7824fb95bd02"
            ],
            []
        ]
    },
    {
        "id": "3dd936804f7b8ce2",
        "type": "split",
        "z": "e316d93c3900f83e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "topic",
        "x": 590,
        "y": 340,
        "wires": [
            [
                "c1cb9d6016bd5e8c"
            ]
        ]
    },
    {
        "id": "88c9495256dba3ba",
        "type": "join",
        "z": "e316d93c3900f83e",
        "name": "",
        "mode": "auto",
        "build": "object",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": "false",
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "x": 590,
        "y": 420,
        "wires": [
            [
                "92df760d20447d50",
                "494351090de0e777",
                "1d83579f.d52208"
            ]
        ]
    },
    {
        "id": "92df760d20447d50",
        "type": "debug",
        "z": "e316d93c3900f83e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 850,
        "y": 420,
        "wires": []
    },
    {
        "id": "503a7824fb95bd02",
        "type": "function",
        "z": "e316d93c3900f83e",
        "name": "clear /n",
        "func": "msg.payload = msg.payload.replace(/\\n/g, \"\").replace(/ +/g, \" \")\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 420,
        "wires": [
            [
                "88c9495256dba3ba"
            ]
        ]
    },
    {
        "id": "1b91140f1409886b",
        "type": "mongodb out",
        "z": "e316d93c3900f83e",
        "d": true,
        "mongodb": "2bb8dfa0.48854",
        "name": "",
        "collection": "docker",
        "payonly": true,
        "upsert": true,
        "multi": false,
        "operation": "update",
        "x": 780,
        "y": 500,
        "wires": []
    },
    {
        "id": "494351090de0e777",
        "type": "change",
        "z": "e316d93c3900f83e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "query",
                "pt": "msg",
                "to": "{\"description\": description}",
                "tot": "jsonata"
            },
            {
                "t": "move",
                "p": "description",
                "pt": "msg",
                "to": "payload.description",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "link",
                "pt": "msg",
                "to": "payload.link",
                "tot": "msg"
            },
            {
                "t": "move",
                "p": "timestamp",
                "pt": "msg",
                "to": "payload.timestamp",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 500,
        "wires": [
            [
                "1b91140f1409886b"
            ]
        ]
    },
    {
        "id": "a3bb45e07d541dfe",
        "type": "change",
        "z": "e316d93c3900f83e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$fromMillis(timestamp, \"[D01]/[M01]/[Y0001] [H01]:[m01]:[s01] \", \"+0100\") & statusCode",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 180,
        "wires": [
            [
                "ef29bce1145f629b"
            ]
        ]
    },
    {
        "id": "ef29bce1145f629b",
        "type": "file",
        "z": "e316d93c3900f83e",
        "name": "",
        "filename": "activations.log",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 620,
        "y": 180,
        "wires": [
            [
                "115b349acad1eb7e"
            ]
        ]
    },
    {
        "id": "115b349acad1eb7e",
        "type": "file in",
        "z": "e316d93c3900f83e",
        "name": "",
        "filename": "activations.log",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 620,
        "y": 260,
        "wires": [
            [
                "7f592676c0af9592",
                "2ca9228b.45383e"
            ]
        ]
    },
    {
        "id": "d8f2df128fe99f5a",
        "type": "inject",
        "z": "e316d93c3900f83e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 400,
        "y": 260,
        "wires": [
            [
                "115b349acad1eb7e"
            ]
        ]
    },
    {
        "id": "7f592676c0af9592",
        "type": "debug",
        "z": "e316d93c3900f83e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 260,
        "wires": []
    },
    {
        "id": "2ca9228b.45383e",
        "type": "ui_template",
        "z": "e316d93c3900f83e",
        "group": "9ee91c1b.c2b67",
        "name": "Activation log",
        "order": 2,
        "width": 6,
        "height": 6,
        "format": "<textarea rows=\"21\" cols=\"7\">\n{{msg.payload}}\n</textarea>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 850,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "02abcb30c3447b74",
        "type": "delay",
        "z": "e316d93c3900f83e",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "day",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 170,
        "y": 260,
        "wires": [
            [
                "50c166b41b67fa20"
            ]
        ]
    },
    {
        "id": "f56ee37cf9f38fda",
        "type": "change",
        "z": "e316d93c3900f83e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "statusCode",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 100,
        "wires": [
            [
                "17cb2f52.423991"
            ]
        ]
    },
    {
        "id": "c5db0cf39a840ea0",
        "type": "inject",
        "z": "e316d93c3900f83e",
        "name": "SITE INFO",
        "props": [
            {
                "p": "link",
                "v": "https://nodered-on-cloud.herokuapp.com/",
                "vt": "str"
            },
            {
                "p": "description",
                "v": "Heroku",
                "vt": "str"
            },
            {
                "p": "timestamp",
                "v": "",
                "vt": "date"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 160,
        "y": 140,
        "wires": [
            [
                "50c166b41b67fa20"
            ]
        ]
    },
    {
        "id": "9bf9323b77f25e9f",
        "type": "chatbot-telegram-receive",
        "z": "6c2a20878ada2fb9",
        "bot": "c940c4049c9e1049",
        "botProduction": "",
        "x": 150,
        "y": 260,
        "wires": [
            [
                "9e0bfb74abd2ab78"
            ]
        ]
    },
    {
        "id": "4e90cf28044b9b48",
        "type": "chatbot-telegram-send",
        "z": "6c2a20878ada2fb9",
        "bot": "c940c4049c9e1049",
        "botProduction": "",
        "track": false,
        "passThrough": false,
        "errorOutput": false,
        "outputs": 0,
        "x": 1250,
        "y": 320,
        "wires": []
    },
    {
        "id": "9e0bfb74abd2ab78",
        "type": "chatbot-conversation",
        "z": "6c2a20878ada2fb9",
        "name": "",
        "botDevelopment": "c940c4049c9e1049",
        "botProduction": "",
        "chatId": "",
        "userId": "",
        "transport": "telegram",
        "x": 350,
        "y": 300,
        "wires": [
            [
                "ecfa2ae6fc0f10be",
                "ec22b0959c46e4c5"
            ]
        ]
    },
    {
        "id": "ecfa2ae6fc0f10be",
        "type": "chatbot-rules",
        "z": "6c2a20878ada2fb9",
        "name": "",
        "rules": [
            {
                "type": "command",
                "command": "/get_all"
            },
            {
                "type": "command",
                "command": "/get_life"
            },
            {
                "type": "command",
                "command": "/get_past"
            },
            {
                "type": "command",
                "command": "/get_random"
            },
            {
                "type": "command",
                "command": "/get_relation"
            },
            {
                "type": "command",
                "command": "/get_about"
            },
            {
                "type": "command",
                "command": "/about"
            },
            {
                "type": "command",
                "command": "/saran"
            },
            {
                "type": "command",
                "command": "/kirim_saran"
            }
        ],
        "outputs": 9,
        "x": 490,
        "y": 300,
        "wires": [
            [
                "c29213cb344ab402",
                "bcfed071b944fa9b",
                "dd5980e606f186a3",
                "84c219d85a828145",
                "48397947c875f6bd"
            ],
            [
                "29f409404ee3f9b8"
            ],
            [
                "21fe4ab906d1813d"
            ],
            [
                "a76d2535fcc9cc3b"
            ],
            [
                "90ea6e3719e9e9b4"
            ],
            [
                "283ced55267cfb52"
            ],
            [
                "f38cb07da7d914d9"
            ],
            [
                "a19e8127ce1912a3"
            ],
            [
                "dd7a39c88ba438b1",
                "026b2914b29c0d4d"
            ]
        ]
    },
    {
        "id": "283ced55267cfb52",
        "type": "file in",
        "z": "6c2a20878ada2fb9",
        "name": "qst-about_you",
        "filename": "./rekata_questions/about_you.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 700,
        "y": 480,
        "wires": [
            [
                "305e3a705544e3db"
            ]
        ]
    },
    {
        "id": "ec22b0959c46e4c5",
        "type": "debug",
        "z": "6c2a20878ada2fb9",
        "name": "Read Output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 160,
        "wires": []
    },
    {
        "id": "2f6d786fa5e9a41b",
        "type": "inject",
        "z": "6c2a20878ada2fb9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "013d7f0fce0e9118"
            ]
        ]
    },
    {
        "id": "013d7f0fce0e9118",
        "type": "chatbot-telegram-menu",
        "z": "6c2a20878ada2fb9",
        "bot": "c940c4049c9e1049",
        "items": [
            {
                "command": "/get_all",
                "description": " - Seluruh topik"
            },
            {
                "command": "/get_life",
                "description": " - Topik LIFE"
            },
            {
                "command": "/get_past",
                "description": " - Topik PAST"
            },
            {
                "command": "/get_random",
                "description": " - Topik RANDOM"
            },
            {
                "command": "/get_relation",
                "description": " - Topik RELATIONSHIP"
            },
            {
                "command": "/get_about",
                "description": " - Topik ABOUT YOU"
            },
            {
                "command": "/about",
                "description": "Mengenai Bot"
            },
            {
                "command": "/saran",
                "description": "Cara kirim saran"
            }
        ],
        "x": 300,
        "y": 140,
        "wires": []
    },
    {
        "id": "632a9a1dd8b5c7a2",
        "type": "chatbot-message",
        "z": "6c2a20878ada2fb9",
        "name": "",
        "message": [
            {
                "message": "{{payload}}"
            }
        ],
        "language": "none",
        "x": 1050,
        "y": 320,
        "wires": [
            [
                "4e90cf28044b9b48"
            ]
        ]
    },
    {
        "id": "305e3a705544e3db",
        "type": "function",
        "z": "6c2a20878ada2fb9",
        "name": "get question",
        "func": "var questionList = msg.payload.split(/\\r?\\n/);\nvar len = questionList.length;\nvar rndNum = Math.floor(Math.random() * len);\nvar question = questionList[rndNum].split(\"; \");\nmsg.payload = \"  [ \" + question[0] + \" ]\\n\" + question[1];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 280,
        "wires": [
            [
                "632a9a1dd8b5c7a2"
            ]
        ]
    },
    {
        "id": "29f409404ee3f9b8",
        "type": "file in",
        "z": "6c2a20878ada2fb9",
        "name": "qst-life",
        "filename": "./rekata_questions/life.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 670,
        "y": 320,
        "wires": [
            [
                "305e3a705544e3db"
            ]
        ]
    },
    {
        "id": "21fe4ab906d1813d",
        "type": "file in",
        "z": "6c2a20878ada2fb9",
        "name": "qst-past",
        "filename": "./rekata_questions/past.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 680,
        "y": 360,
        "wires": [
            [
                "305e3a705544e3db"
            ]
        ]
    },
    {
        "id": "a76d2535fcc9cc3b",
        "type": "file in",
        "z": "6c2a20878ada2fb9",
        "name": "qst-random",
        "filename": "./rekata_questions/random.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 690,
        "y": 400,
        "wires": [
            [
                "305e3a705544e3db"
            ]
        ]
    },
    {
        "id": "90ea6e3719e9e9b4",
        "type": "file in",
        "z": "6c2a20878ada2fb9",
        "name": "qst-relationship",
        "filename": "./rekata_questions/relationship.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 700,
        "y": 440,
        "wires": [
            [
                "305e3a705544e3db"
            ]
        ]
    },
    {
        "id": "f38cb07da7d914d9",
        "type": "chatbot-message",
        "z": "6c2a20878ada2fb9",
        "name": "about bot",
        "message": [
            {
                "message": " [ReKata Bot]\nBot ini menyediakan kumpulan pertanyaan yang dapat mendekatkan diri dengan lawan bicara dalam obrolan, terinspirasi 'intimacy deck' (party card).\n \n--= WARNING =--\nBeberapa pertanyaan yang tersedia tidak disarankan untuk anak-anak.\n\n[ver 0.1.1 20220827]\n- Perbaikan framework dan server.\n- Perubahan metode penyimpanan pertanyaan.\n\n[ver 0.1.0]\n- Memasukkan 5 topik (25 soal / topik).\n- Penambahan fitur kirim saran."
            }
        ],
        "language": "none",
        "x": 680,
        "y": 720,
        "wires": [
            [
                "4e90cf28044b9b48"
            ]
        ]
    },
    {
        "id": "bcfed071b944fa9b",
        "type": "file in",
        "z": "6c2a20878ada2fb9",
        "name": "qst-about_you",
        "filename": "./rekata_questions/about_you.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 700,
        "y": 220,
        "wires": [
            [
                "aa3889072d58b130"
            ]
        ]
    },
    {
        "id": "c29213cb344ab402",
        "type": "file in",
        "z": "6c2a20878ada2fb9",
        "name": "qst-life",
        "filename": "./rekata_questions/life.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 670,
        "y": 60,
        "wires": [
            [
                "aa3889072d58b130"
            ]
        ]
    },
    {
        "id": "48397947c875f6bd",
        "type": "file in",
        "z": "6c2a20878ada2fb9",
        "name": "qst-past",
        "filename": "./rekata_questions/past.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 680,
        "y": 100,
        "wires": [
            [
                "aa3889072d58b130"
            ]
        ]
    },
    {
        "id": "84c219d85a828145",
        "type": "file in",
        "z": "6c2a20878ada2fb9",
        "name": "qst-random",
        "filename": "./rekata_questions/random.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 690,
        "y": 140,
        "wires": [
            [
                "aa3889072d58b130"
            ]
        ]
    },
    {
        "id": "dd5980e606f186a3",
        "type": "file in",
        "z": "6c2a20878ada2fb9",
        "name": "qst-relationship",
        "filename": "./rekata_questions/relationship.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 700,
        "y": 180,
        "wires": [
            [
                "aa3889072d58b130"
            ]
        ]
    },
    {
        "id": "aa3889072d58b130",
        "type": "join",
        "z": "6c2a20878ada2fb9",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 890,
        "y": 100,
        "wires": [
            [
                "305e3a705544e3db"
            ]
        ]
    },
    {
        "id": "ad43c2619233a665",
        "type": "debug",
        "z": "6c2a20878ada2fb9",
        "name": "Read Each",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 40,
        "wires": []
    },
    {
        "id": "a19e8127ce1912a3",
        "type": "chatbot-message",
        "z": "6c2a20878ada2fb9",
        "name": "cara saran",
        "message": [
            {
                "message": " --= Mohon Tidak Spam =--\nUntuk mengirimkan saran, gunakan format berikut :\n\n/kirim_saran [(username)] (saran)\n\ncth : /kirim_saran [rekata] Tolong tambahkan pertanyaan. Aku punya banyak ide pertanyaan."
            }
        ],
        "language": "none",
        "x": 690,
        "y": 520,
        "wires": [
            [
                "4e90cf28044b9b48"
            ]
        ]
    },
    {
        "id": "dd7a39c88ba438b1",
        "type": "chatbot-message",
        "z": "6c2a20878ada2fb9",
        "name": "reply kirim saran",
        "message": [
            {
                "message": "Terima kasih, saran anda telah terkirim."
            }
        ],
        "language": "none",
        "x": 700,
        "y": 660,
        "wires": [
            [
                "4e90cf28044b9b48"
            ]
        ]
    },
    {
        "id": "1aa8346ac6e2b64e",
        "type": "chatbot-conversation",
        "z": "6c2a20878ada2fb9",
        "name": "",
        "botDevelopment": "c940c4049c9e1049",
        "botProduction": "",
        "chatId": "1828978251",
        "userId": "",
        "transport": "telegram",
        "x": 730,
        "y": 620,
        "wires": [
            [
                "632a9a1dd8b5c7a2"
            ]
        ]
    },
    {
        "id": "026b2914b29c0d4d",
        "type": "function",
        "z": "6c2a20878ada2fb9",
        "name": "get saran",
        "func": "var rawSaran = msg.payload.content.replace(\"/kirim_saran\", \"\");\nmsg.payload = \"  [ \" + msg.payload.userId + \" ]\\n\" + rawSaran;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 580,
        "wires": [
            [
                "1aa8346ac6e2b64e"
            ]
        ]
    },
    {
        "id": "3838ed393e10ddb7",
        "type": "comment",
        "z": "6c2a20878ada2fb9",
        "name": "token",
        "info": "1911727921:AAEYXqf0ViIim6UtNP-h51pVQ7SzJAmjoaM",
        "x": 110,
        "y": 200,
        "wires": []
    },
    {
        "id": "fb9902a34548e51f",
        "type": "telegram command",
        "z": "e899286ccebc8c74",
        "name": "get_life",
        "command": "/get_life",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "227839c5a19f7b4b",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 130,
        "y": 260,
        "wires": [
            [
                "4e9dbeadf5b9f33c"
            ],
            []
        ]
    },
    {
        "id": "4e9dbeadf5b9f33c",
        "type": "file in",
        "z": "e899286ccebc8c74",
        "name": "qst-life",
        "filename": "./rekata_questions/life.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 350,
        "y": 280,
        "wires": [
            [
                "ebe4871a4bfab859"
            ]
        ]
    },
    {
        "id": "5d1c15528a429a99",
        "type": "function",
        "z": "e899286ccebc8c74",
        "name": "get question",
        "func": "var questionList = msg.payload.split(/\\r?\\n/);\nvar len = questionList.length;\nvar rndNum = Math.floor(Math.random() * len);\nvar question = questionList[rndNum].split(\"; \");\nmsg.payload = {\"content\":\"  [ \" + question[0] + \" ]\\n\" + question[1]};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 360,
        "wires": [
            [
                "4a0403aa8d5a27fa"
            ]
        ]
    },
    {
        "id": "ae1d48a226af6d13",
        "type": "telegram sender",
        "z": "e899286ccebc8c74",
        "name": "sender",
        "bot": "227839c5a19f7b4b",
        "haserroroutput": false,
        "outputs": 1,
        "x": 1030,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "4a0403aa8d5a27fa",
        "type": "join",
        "z": "e899286ccebc8c74",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 910,
        "y": 360,
        "wires": [
            [
                "ae1d48a226af6d13"
            ]
        ]
    },
    {
        "id": "22c28f084669231b",
        "type": "debug",
        "z": "e899286ccebc8c74",
        "name": "read original",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "originalMessage",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 840,
        "wires": []
    },
    {
        "id": "378e7df5d0e0becf",
        "type": "debug",
        "z": "e899286ccebc8c74",
        "name": "read output",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 740,
        "wires": []
    },
    {
        "id": "ea63b6765c8cc51e",
        "type": "debug",
        "z": "e899286ccebc8c74",
        "name": "read result",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 180,
        "wires": []
    },
    {
        "id": "e323d4507dfce392",
        "type": "file in",
        "z": "e899286ccebc8c74",
        "name": "qst-about_you",
        "filename": "./rekata_questions/about_you.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 380,
        "y": 440,
        "wires": [
            [
                "ebe4871a4bfab859"
            ]
        ]
    },
    {
        "id": "c8191044b5de6a0d",
        "type": "file in",
        "z": "e899286ccebc8c74",
        "name": "qst-past",
        "filename": "./rekata_questions/past.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 360,
        "y": 320,
        "wires": [
            [
                "ebe4871a4bfab859"
            ]
        ]
    },
    {
        "id": "9213c35522093ebd",
        "type": "file in",
        "z": "e899286ccebc8c74",
        "name": "qst-random",
        "filename": "./rekata_questions/random.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 370,
        "y": 360,
        "wires": [
            [
                "ebe4871a4bfab859"
            ]
        ]
    },
    {
        "id": "eb5b8a0ba4651d66",
        "type": "file in",
        "z": "e899286ccebc8c74",
        "name": "qst-relationship",
        "filename": "./rekata_questions/relationship.txt",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "utf8",
        "allProps": false,
        "x": 380,
        "y": 400,
        "wires": [
            [
                "ebe4871a4bfab859"
            ]
        ]
    },
    {
        "id": "716f0cdaa78279e2",
        "type": "telegram command",
        "z": "e899286ccebc8c74",
        "name": "get_past",
        "command": "/get_past",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "227839c5a19f7b4b",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 140,
        "y": 320,
        "wires": [
            [
                "c8191044b5de6a0d"
            ],
            []
        ]
    },
    {
        "id": "10709db733839af7",
        "type": "telegram command",
        "z": "e899286ccebc8c74",
        "name": "get_random",
        "command": "/get_random",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "227839c5a19f7b4b",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 150,
        "y": 380,
        "wires": [
            [
                "9213c35522093ebd"
            ],
            []
        ]
    },
    {
        "id": "4c2cdde1f1bfd654",
        "type": "telegram command",
        "z": "e899286ccebc8c74",
        "name": "get_relation",
        "command": "/get_relation",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "227839c5a19f7b4b",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 150,
        "y": 440,
        "wires": [
            [
                "eb5b8a0ba4651d66"
            ],
            []
        ]
    },
    {
        "id": "3b32f147948cfd71",
        "type": "telegram command",
        "z": "e899286ccebc8c74",
        "name": "get_about",
        "command": "/get_about",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "227839c5a19f7b4b",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 140,
        "y": 500,
        "wires": [
            [
                "e323d4507dfce392"
            ],
            []
        ]
    },
    {
        "id": "4fe5fc2863a0243b",
        "type": "telegram command",
        "z": "e899286ccebc8c74",
        "name": "get_all",
        "command": "/get_all",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "227839c5a19f7b4b",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 130,
        "y": 200,
        "wires": [
            [
                "4e9dbeadf5b9f33c",
                "c8191044b5de6a0d",
                "9213c35522093ebd",
                "eb5b8a0ba4651d66",
                "e323d4507dfce392"
            ],
            []
        ]
    },
    {
        "id": "ebe4871a4bfab859",
        "type": "join",
        "z": "e899286ccebc8c74",
        "name": "collect lib",
        "mode": "custom",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "1",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 580,
        "y": 360,
        "wires": [
            [
                "5d1c15528a429a99"
            ]
        ]
    },
    {
        "id": "0500b4c348c8f979",
        "type": "telegram receiver",
        "z": "e899286ccebc8c74",
        "name": "Receiver",
        "bot": "227839c5a19f7b4b",
        "saveDataDir": "",
        "filterCommands": false,
        "x": 580,
        "y": 280,
        "wires": [
            [
                "b568da2416d01f2b"
            ],
            []
        ]
    },
    {
        "id": "b568da2416d01f2b",
        "type": "change",
        "z": "e899286ccebc8c74",
        "name": "clear content",
        "rules": [
            {
                "t": "set",
                "p": "payload.content",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 300,
        "wires": [
            [
                "4a0403aa8d5a27fa"
            ]
        ]
    },
    {
        "id": "2fbe2527189c9459",
        "type": "telegram command",
        "z": "e899286ccebc8c74",
        "name": "about",
        "command": "/about",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "227839c5a19f7b4b",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 470,
        "y": 640,
        "wires": [
            [
                "ca0eeb23e3a55e0d"
            ],
            []
        ]
    },
    {
        "id": "f6262812154fd7ae",
        "type": "telegram command",
        "z": "e899286ccebc8c74",
        "name": "saran",
        "command": "/saran",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "227839c5a19f7b4b",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 470,
        "y": 700,
        "wires": [
            [
                "b1ccade22192dd01"
            ],
            []
        ]
    },
    {
        "id": "0d1c0f3d72b79582",
        "type": "telegram command",
        "z": "e899286ccebc8c74",
        "name": "kirim_saran",
        "command": "/kirim_saran",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "227839c5a19f7b4b",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 490,
        "y": 760,
        "wires": [
            [
                "3da65ed135f6936f",
                "77d6d5ba1c2f6efd"
            ],
            []
        ]
    },
    {
        "id": "3da65ed135f6936f",
        "type": "function",
        "z": "e899286ccebc8c74",
        "name": "reply saran",
        "func": "msg.payload.content = \"Terima kasih.\\n Pesan anda telah terkirim\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 780,
        "wires": [
            [
                "ae1d48a226af6d13"
            ]
        ]
    },
    {
        "id": "b1ccade22192dd01",
        "type": "function",
        "z": "e899286ccebc8c74",
        "name": "cara saran",
        "func": "msg.payload.content = \" --= Mohon Tidak Spam =--\\n\" +\n    \"Untuk mengirimkan saran, gunakan format berikut :\\n\" +\n    \"/kirim_saran <saran>\\n\\n\"+\n    \"cth : /kirim_saran Tolong tambahkan topik pertanyaannya.\\nAku punya banyak ide pertanyaan.\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 680,
        "wires": [
            [
                "ae1d48a226af6d13"
            ]
        ]
    },
    {
        "id": "ca0eeb23e3a55e0d",
        "type": "function",
        "z": "e899286ccebc8c74",
        "name": "about bot",
        "func": "msg.payload.content = \" [Tanya Akrab Bot]\\n\"+\n    \"Bot ini menyediakan kumpulan pertanyaan yang dapat mendekatkan diri dengan lawan bicara dalam obrolan, terinspirasi 'intimacy deck' (party card).\\n\" +\n    \"   --= WARNING =--\\n\" +\n    \"Beberapa pertanyaan yang tersedia tidak disarankan untuk anak-anak.\\n\" +\n    \"\\n\\n build : 20220830\\n\\n\" +\n    \"[ver 0.2.1]\\n - Fix bug.\\n - Perbaikan diksi pertanyaan.\\n\\n\" +\n    \"[ver 0.2.0]\\n - Perubahan library.\\n\\n\" +\n    \"[ver 0.1.1]\\n - Perbaikan framework dan server.\\n - Perubahan metode penyimpanan pertanyaan.\\n\\n\" +\n    \"[ver 0.1.0]\\n - Memasukkan 5 topik (25 soal / topik).\\n - Penambahan fitur kirim saran.\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 620,
        "wires": [
            [
                "ae1d48a226af6d13"
            ]
        ]
    },
    {
        "id": "d1434d5fd81e16eb",
        "type": "debug",
        "z": "e899286ccebc8c74",
        "name": "read input",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 860,
        "y": 140,
        "wires": []
    },
    {
        "id": "82f3b584074b421b",
        "type": "telegram command",
        "z": "e899286ccebc8c74",
        "name": "start",
        "command": "/start",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "227839c5a19f7b4b",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 470,
        "y": 580,
        "wires": [
            [
                "167a1336b336f07c",
                "22c28f084669231b",
                "93e12050c6216f80"
            ],
            []
        ]
    },
    {
        "id": "167a1336b336f07c",
        "type": "function",
        "z": "e899286ccebc8c74",
        "name": "greeting",
        "func": "msg.payload.content = \n    \"Halo, \" + msg.originalMessage.from.first_name +\n    \"\\nTerima kasih telah bersedia mencoba Bot ini.\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 560,
        "wires": [
            [
                "ae1d48a226af6d13",
                "378e7df5d0e0becf"
            ]
        ]
    },
    {
        "id": "77d6d5ba1c2f6efd",
        "type": "function",
        "z": "e899286ccebc8c74",
        "name": "send saran",
        "func": "var saran = \n    \"[\" + msg.originalMessage.from.username + \"]\\n\" +\n    \"[\" + msg.originalMessage.from.id + \"]\\n\\n\" +\n    msg.payload.content;\nmsg.payload.content = saran;\nmsg.payload.chatId = \"1828978251\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 740,
        "wires": [
            [
                "ae1d48a226af6d13"
            ]
        ]
    },
    {
        "id": "93e12050c6216f80",
        "type": "function",
        "z": "e899286ccebc8c74",
        "name": "commers",
        "func": "var commer = \n    msg.originalMessage.from.id + \" - \" + msg.originalMessage.from.username + \"\\n\" +\n    msg.originalMessage.from.first_name + \" \" + msg.originalMessage.from.last_name +\n    \"\\n\\nMulai tertarik dengan Tanya Akrab Bot.\";\nmsg.payload.content = commer;\nmsg.payload.chatId = \"1828978251\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 520,
        "wires": [
            [
                "ae1d48a226af6d13"
            ]
        ]
    }
]
